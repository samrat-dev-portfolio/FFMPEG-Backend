(this["webpackJsonpffmpeg-demo"]=this["webpackJsonpffmpeg-demo"]||[]).push([[0],{114:function(e,t,c){},115:function(e,t,c){},116:function(e,t,c){},148:function(e,t,c){},149:function(e,t,c){},150:function(e,t,c){},151:function(e,t,c){},170:function(e,t,c){},171:function(e,t,c){},172:function(e,t,c){},173:function(e,t,c){},176:function(e,t,c){},177:function(e,t,c){},178:function(e,t,c){},179:function(e,t,c){},180:function(e,t,c){},181:function(e,t,c){},191:function(e,t,c){},192:function(e,t,c){},193:function(e,t,c){},194:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(1),s=c.n(a),l=c(20),i=c.n(l),r=(c(114),c(91)),o=c(92),d=c(108),j=c(105),u=c(25),b=c(14),h=(c(27),c(115),c(202)),O=c(203),f=c(96),m=(c(116),c(9));c(45),c(46),c(47);function p(){return Object(n.jsx)(h.a,{fluid:!0,className:"C_Entry bimg-page-1",children:Object(n.jsxs)(O.a,{className:"h-100",children:[Object(n.jsx)(f.a,{className:"col-9"}),Object(n.jsx)(f.a,{className:"col-3 p-0",children:Object(n.jsx)("div",{className:"home_btn_row",children:Object(n.jsx)(u.b,{className:"home_btn",to:"/home",children:Object(n.jsx)(m.b,{color:"amber",children:"Enter"})})})})]})})}var x=c(8),g=c(73),v=(c(148),c(74));function y(){var e=Object(g.a)(["\n       font-weight: 100;\n       letter-spacing: 1px;\n    "]);return y=function(){return e},e}function N(){var e=Object(g.a)(["\n       font-size: smaller;\n       letter-spacing: 1px;\n    "]);return N=function(){return e},e}function C(e){var t=v.a.span(N()),c=v.a.span(y());return Object(n.jsx)(h.a,{fluid:!0,className:"C_Header bimg-page-2 p-0",children:Object(n.jsxs)(O.a,{className:"gutter m-0",children:[Object(n.jsx)(f.a,{className:"col-4 logo-1"}),Object(n.jsx)(f.a,{className:"col-8 head-details",children:Object(n.jsxs)("div",{className:"b-orange",children:[Object(n.jsxs)(f.a,{className:"col-4 b-red c-white center-xy d-flex",style:{flexDirection:"column"},children:[Object(n.jsx)("div",{children:e.selected_class}),Object(n.jsx)(t,{children:e.selected_subject?e.selected_subject:""})]}),Object(n.jsx)(f.a,{className:"col-8 b-green c-white center-xy d-flex",children:Object(n.jsx)(c,{children:e.selected_chapter})})]})})]})})}c(149),c(150),c(151);function S(e){return Object(n.jsx)("span",{className:"C_ProgressAlert progress-1",children:e.alert})}function _(e){return Object(n.jsx)(h.a,{fluid:!0,className:"C_Content bimg-page-2 p-0",children:Object(n.jsxs)(O.a,{className:"h-100 gutter m-0",children:[Object(n.jsx)(f.a,{className:"col-12 b-orange py-1 b-radius-1 shadow-1",children:Object(n.jsxs)(O.a,{children:[Object(n.jsx)(f.a,{className:"col-2 pl-4",children:"Shreni"}),Object(n.jsx)(f.a,{className:"col-3 pl-4",children:"Bishoy"}),Object(n.jsx)(f.a,{className:"col-7 pl-4",children:"Adhay Suchi"})]})}),Object(n.jsx)(f.a,{className:"col-12 b-red b-radius-2 space-3",children:Object(n.jsxs)(O.a,{className:"h-100 m-0",children:[Object(n.jsxs)(f.a,{className:"col-2 pr-0 content-box",children:[e.loading_class.enabled?Object(n.jsx)(S,{alert:e.loading_class.alert}):null,Object(n.jsx)("div",{className:"h-100 b-color-1 b-radius-3",children:Object(n.jsx)("ul",{className:"list-group grp-1",children:e.my_class})})]}),Object(n.jsxs)(f.a,{className:"col-3 pr-0 content-box",children:[e.loading_subject.enabled?Object(n.jsx)(S,{alert:e.loading_subject.alert}):null,Object(n.jsx)("div",{className:"h-100 b-color-1 b-radius-3",children:Object(n.jsx)("ul",{className:"list-group grp-2",children:e.my_subject})})]}),Object(n.jsxs)(f.a,{className:"col-7 pr-0 content-box",children:[e.loading_chapter.enabled?Object(n.jsx)(S,{alert:e.loading_chapter.alert}):null,Object(n.jsx)("ul",{className:"list-group grp-3",children:e.my_chapter})]})]})})]})})}var w=c(11),I=c.n(w),k=c(99);c(170);function L(e){var t=e.show,c=e.onhide,l=e.contentID,i=e.chapter,r=window.ffmpeg_baseurl,o=s.a.useRef(),d=s.a.useRef(),j=Object(a.useState)(""),u=Object(x.a)(j,2),b=u[0],p=u[1];Object(a.useEffect)((function(){}),[]);var g=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||document.body.offsetWidth;if(e<(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||document.body.offsetHeight)){if("undefined"===typeof d.current||null===d.current)return;d.current.style.width="90%"}else{if("undefined"===typeof d.current||null===d.current)return;var t=3/4*e-50;d.current.style.width=t+"px"}};return Object(a.useEffect)((function(){document.body.onresize=function(){g()}}),[]),Object(a.useEffect)((function(){if(null!==l){var e={baseurl:r};p("".concat(r,"api/mpeg/M3u8info/").concat(l),{params:e}),g()}}),[t]),Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){}),[]),t&&Object(n.jsx)(h.a,{fluid:!0,className:"C_Player",children:Object(n.jsx)(f.a,{className:"text-center py-3",children:Object(n.jsx)("div",{className:"player-wrapper",ref:d,children:Object(n.jsxs)(m.c,{className:"text-center",children:[Object(n.jsx)(O.a,{className:"header",children:Object(n.jsxs)(f.a,{className:"col-12 p-0",children:[Object(n.jsxs)("p",{className:"m-0 h-100",children:["\xa0",i]}),Object(n.jsxs)(m.b,{className:"exit",color:"mdb-color",size:"sm",onClick:c,children:[Object(n.jsx)(m.d,{icon:"times-circle"}),"\xa0\xa0Close"]})]})}),Object(n.jsx)(O.a,{className:"player-body",children:b.length>0?Object(n.jsx)(k.a,{playerRef:o,srcoff:"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8",xsrc:"http://localhost:50017/api/mpeg/M3u8info/20210417-020532-d829654b-bdaf-4c0c-bad6-dd7ce8326e31",src:b,autoPlay:!1,controls:!0,width:"100%",height:"auto",onEnded:function(){o.current.classList.add("fadex"),setTimeout((function(){c()}),3100)}}):null})]})})})})}function z(e){var t=window.ffmpeg_baseurl,c=Object(a.useState)({enabled:!1,alert:""}),s=Object(x.a)(c,2),l=s[0],i=s[1],r=Object(a.useState)([]),o=Object(x.a)(r,2),d=o[0],j=o[1],u=Object(a.useState)(""),b=Object(x.a)(u,2),h=b[0],O=b[1],f=Object(a.useState)(""),m=Object(x.a)(f,2),p=m[0],g=m[1],v=Object(a.useState)(""),y=Object(x.a)(v,2),N=y[0],S=y[1],w=Object(a.useState)({enabled:!1,alert:""}),k=Object(x.a)(w,2),z=k[0],D=k[1],E=Object(a.useState)([]),R=Object(x.a)(E,2),A=R[0],T=R[1],P=Object(a.useState)(""),F=Object(x.a)(P,2),M=F[0],B=F[1],U=Object(a.useState)(""),q=Object(x.a)(U,2),H=q[0],V=q[1],G=Object(a.useState)({enabled:!1,alert:""}),K=Object(x.a)(G,2),W=K[0],Q=K[1],J=Object(a.useState)([]),Y=Object(x.a)(J,2),X=Y[0],Z=Y[1];Object(a.useEffect)((function(){le(),$(),ee();var t=new URLSearchParams(e.location.search),c=t.get("cls");c&&O(c);var n=t.get("sub");n&&B(n);var a=t.get("cls_name");a&&g(a);var s=t.get("chap_name");s&&S(s)}),[]),Object(a.useEffect)((function(){ie(),h&&M?te():Q({enabled:!0,alert:"Please Provide Class and subject"})}),[h,M]),Object(a.useEffect)((function(){ie()}),[N]);var $=function(){i({enabled:!0,alert:"Loading..."}),I.a.get("".concat(t,"api/mpeg/getClasses")).then((function(e){j(e.data.data),i({enabled:!1,alert:""})})).catch((function(e){i({enabled:!0,alert:"Error"})}))},ee=function(){D({enabled:!0,alert:"Loading..."}),I.a.get("".concat(t,"api/mpeg/getSubject")).then((function(e){T(e.data.data),D({enabled:!1,alert:""})})).catch((function(e){D({enabled:!0,alert:"Error"})}))},te=function(){Q({enabled:!0,alert:"Loading..."}),I.a.get("".concat(t,"api/mpeg/getChapter"),{params:{cls:h,sub:M}}).then((function(e){Z(e.data.data),e.data.data.length?Q({enabled:!1,alert:""}):Q({enabled:!0,alert:"No data Available"})})).catch((function(e){Q({enabled:!0,alert:"Error"})}))},ce=function(e){O(e.id),g("Class ".concat(e.className))},ne=function(e){B(e.id),function(e){var t=A.find((function(t,c){return t.id==e}))||{};t=t.subjectName||"",V(t)}(e.id)},ae=function(e,t){S(t.chapterName),se(e,"chapter_highlight"),null!=t.contentID&&"NULL"!=t.contentID&&(Oe(t.contentID),xe(t.chapterName),je(!0))},se=function(e,t){var c=e.target;document.querySelectorAll("."+t).forEach((function(e){e.classList.remove(t)})),c.classList.add(t)},le=function(){document.body.classList.add("body-blue")},ie=function(){e.history.push("/home?cls=".concat(h,"&sub=").concat(M,"&cls_name=").concat(p,"&chap_name=").concat(N))},re=Object(a.useState)(!1),oe=Object(x.a)(re,2),de=oe[0],je=oe[1],ue=Object(a.useState)(null),be=Object(x.a)(ue,2),he=be[0],Oe=be[1],fe=Object(a.useState)(null),me=Object(x.a)(fe,2),pe=me[0],xe=me[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(L,{chapter:pe,show:de,contentID:he,onhide:function(){je(!1),Oe(null),xe(null)}}),Object(n.jsx)(C,{selected_class:p,selected_subject:H,selected_chapter:N}),Object(n.jsx)(_,{my_class:d.map((function(e,t){return Object(n.jsxs)("li",{className:"list-group-item",onClick:function(){ce(e)},children:["Class ",e.className]},t)})),loading_class:l,my_subject:A.map((function(e,t){return Object(n.jsx)("li",{className:"list-group-item",onClick:function(){ne(e)},children:e.subjectName},t)})),loading_subject:z,my_chapter:X.map((function(e,t){return Object(n.jsx)("li",{className:"list-group-item",onClick:function(t){ae(t,e)},children:e.chapterName},t)})),loading_chapter:W})]})}c(171),c(172);var D=function(){return Object(n.jsx)("div",{className:"BrandAnimation"})},E=c(208),R=c(210);c(173);function A(){return Object(a.useEffect)((function(){})),Object(n.jsxs)(E.a,{bg:"light",expand:"lg",className:"Menubar",children:[Object(n.jsx)(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsx)(E.a.Collapse,{id:"basic-navbar-nav",children:Object(n.jsxs)(R.a,{className:"mr-auto",children:[Object(n.jsx)(R.a.Link,{href:"#admin",children:"Home"}),Object(n.jsx)(R.a.Link,{href:"#admin/upload",children:"Upload"}),Object(n.jsx)(R.a.Link,{href:"#admin/conversion",children:"Conversion"}),Object(n.jsx)(R.a.Link,{href:"#admin/addclsnsub",children:"Class-Subs"}),Object(n.jsx)(R.a.Link,{href:"#admin/addchap",children:"Chapters"}),Object(n.jsx)(R.a.Link,{href:"#admin/settings",children:"Settings"})]})})]})}var T=c(39);c(175),c(176);function P(){return Object(n.jsx)(T.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=T.b;"info"==t||"i"==t?c=T.b.info:"success"==t||"s"==t?c=T.b.success:"warn"==t||"w"==t?c=T.b.warn:"error"!=t&&"e"!=t||(c=T.b.error),c(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}function M(){Object(a.useEffect)((function(){e()}));var e=function(){document.body.classList.remove("body-blue"),document.body.classList.add("body-white")};return Object(n.jsxs)("div",{className:"C_Admin",children:[Object(n.jsx)(A,{}),Object(n.jsx)(P,{}),Object(n.jsx)("div",{style:{position:"relative"},children:Object(n.jsx)(D,{})})]})}var B=c(12),U=c(211),q=c(209),H=c(212),V=c(106);c(177),c(178);function G(){return Object(n.jsx)("div",{className:"C_Loading",children:Object(n.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:Object(n.jsx)("g",{transform:"translate(50 50)",children:Object(n.jsxs)("g",{children:[Object(n.jsx)("animateTransform",{attributeName:"transform",type:"rotate",values:"0;45",keyTimes:"0;1",dur:"0.2s",repeatCount:"indefinite"}),Object(n.jsx)("path",{d:"M29.491524206117255 -5.5 L37.491524206117255 -5.5 L37.491524206117255 5.5 L29.491524206117255 5.5 A30 30 0 0 1 24.742744050198738 16.964569457146712 L24.742744050198738 16.964569457146712 L30.399598299691117 22.621423706639092 L22.621423706639096 30.399598299691114 L16.964569457146716 24.742744050198734 A30 30 0 0 1 5.5 29.491524206117255 L5.5 29.491524206117255 L5.5 37.491524206117255 L-5.499999999999997 37.491524206117255 L-5.499999999999997 29.491524206117255 A30 30 0 0 1 -16.964569457146705 24.742744050198738 L-16.964569457146705 24.742744050198738 L-22.621423706639085 30.399598299691117 L-30.399598299691117 22.621423706639092 L-24.742744050198738 16.964569457146712 A30 30 0 0 1 -29.491524206117255 5.500000000000009 L-29.491524206117255 5.500000000000009 L-37.491524206117255 5.50000000000001 L-37.491524206117255 -5.500000000000001 L-29.491524206117255 -5.500000000000002 A30 30 0 0 1 -24.742744050198738 -16.964569457146705 L-24.742744050198738 -16.964569457146705 L-30.399598299691117 -22.621423706639085 L-22.621423706639092 -30.399598299691117 L-16.964569457146712 -24.742744050198738 A30 30 0 0 1 -5.500000000000011 -29.491524206117255 L-5.500000000000011 -29.491524206117255 L-5.500000000000012 -37.491524206117255 L5.499999999999998 -37.491524206117255 L5.5 -29.491524206117255 A30 30 0 0 1 16.964569457146702 -24.74274405019874 L16.964569457146702 -24.74274405019874 L22.62142370663908 -30.39959829969112 L30.399598299691117 -22.6214237066391 L24.742744050198738 -16.964569457146716 A30 30 0 0 1 29.491524206117255 -5.500000000000013 M0 -20A20 20 0 1 0 0 20 A20 20 0 1 0 0 -20",fill:"#85a2b6"})]})})})})}function K(){var e=window.ffmpeg_baseurl,t=Object(a.useState)(!1),c=Object(x.a)(t,2),s=c[0],l=c[1],i=Object(a.useState)(""),r=Object(x.a)(i,2),o=r[0],d=r[1],j=Object(a.useState)(""),u=Object(x.a)(j,2),b=u[0],p=u[1],g=Object(a.useState)(""),v=Object(x.a)(g,2),y=v[0],N=v[1],C=Object(a.useState)(""),S=Object(x.a)(C,2),_=S[0],w=S[1],k=Object(a.useState)(null),L=Object(x.a)(k,2),z=L[0],D=L[1],E=Object(a.useState)(""),R=Object(x.a)(E,2),A=R[0],T=R[1],P=Object(a.useState)(0),M=Object(x.a)(P,2),K=M[0],W=M[1],Q=Object(a.useState)(null),J=Object(x.a)(Q,2),Y=J[0],X=J[1],Z=Object(a.useState)(!1),$=Object(x.a)(Z,2),ee=$[0],te=$[1],ce=Object(a.useRef)();Object(a.useEffect)((function(){N("Select any MP4 file"),ie()}),[]);var ne=Object(a.useCallback)((function(e){if(e.length){var t=e[0],c=t.size,n=t.type,a=t.name;"video"!=n.split("/")[0]?(w("Please select video file"),N("Select any MP4 file")):(document.getElementById("content_file").removeAttribute("required"),w("Size: "+re(c)),N(a),D(e[0]))}}),[]),ae=Object(V.a)({onDrop:ne,multiple:!1}),se=ae.getRootProps,le=ae.getInputProps,ie=(ae.isDragActive,function(){l(!0),I.a.get("".concat(e,"api/mpeg/UniquID")).then((function(e){p(e.data.Id),l(!1)})).catch((function(e){d("Error load unique ID"),l(!1)}))}),re=function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]},oe=function(){setTimeout((function(){ie(),w(""),N("Select any MP4 file"),D(null),W(0),ce.current.value="",document.querySelector("#content_file").value="",document.getElementById("content_file").setAttribute("required",""),te(!1),X(null)}),1e3,!0)};return Object(n.jsx)(h.a,{fluid:!0,className:"C_Upload",children:Object(n.jsx)(O.a,{className:"h-100 m-0",children:Object(n.jsx)(f.a,{className:"col-md-8 col-lg-6 pt-3",children:Object(n.jsxs)(U.a,{children:[Object(n.jsxs)(U.a.Header,{children:["Upload File ",Object(n.jsx)("span",{className:"loading-error",children:o}),s?Object(n.jsx)(G,{}):null]}),Object(n.jsx)(U.a.Body,{children:Object(n.jsxs)(q.a,{noValidate:!0,validated:ee,onSubmit:function(t){if(d(""),l(!0),t.preventDefault(),t.stopPropagation(),!1===t.currentTarget.checkValidity())d("Please provide all field"),F("Please provide all field","i"),l(!1);else{console.log("Ready for upload to server");var c=new FormData;c.append("body",z),c.append("uid",b),c.append("file_name",y),c.append("file_title",A);var n=I.a.CancelToken.source();X(n);var a={headers:{"content-type":"multipart/form-data"},cancelToken:n.token,onUploadProgress:function(e){!function(e){var t=Math.round(100*e.loaded/e.total);W(t)}(e)}};I.a.post("".concat(e,"api/Mpeg/UploadFile"),c,a).then((function(e){d("File uploaded successfully."),l(!1),oe(),F("File uploaded successfully.","i")})).catch((function(e){d("Error post data"),l(!1)}))}te(!0)},children:[Object(n.jsxs)(q.a.Group,{controlId:"Unique_ID",children:[Object(n.jsx)(q.a.Label,{children:"Unique ID"}),Object(n.jsx)(q.a.Control,{type:"text",defaultValue:b,placeholder:"Unique ID",required:!0,readOnly:!0}),Object(n.jsx)(q.a.Control.Feedback,{children:"Looks good!"})]}),Object(n.jsxs)(q.a.Group,{controlId:"File_Title",children:[Object(n.jsx)(q.a.Label,{children:"File Title"}),Object(n.jsx)(q.a.Control,{type:"text",autoComplete:"off",placeholder:"File title",required:!0,defaultValue:A,onChange:function(e){T(e.target.value)},ref:ce}),Object(n.jsx)(q.a.Control.Feedback,{children:"Looks good!"})]}),Object(n.jsxs)(q.a.Group,{className:"mb-0",children:[Object(n.jsx)(q.a.Label,{children:"Choose File"}),Object(n.jsxs)(q.a.File,{name:"content_file",id:"content_file",custom:!0,children:[Object(n.jsx)(q.a.File.Input,{required:!0,onChange:function(e){if(e.currentTarget.files&&e.currentTarget.files.length){var t=e.currentTarget.files[0],c=t.size,n=t.type,a=t.name;"video"!=n.split("/")[0]?(w("Please select video file"),N("Select any MP4 file")):(w("Size: "+re(c)),N(a),D(e.currentTarget.files[0]))}}}),Object(n.jsx)(q.a.File.Label,{"data-browse":"Browse File",children:y}),Object(n.jsx)(q.a.Text,{className:"text-muted",children:_})]}),Object(n.jsx)(H.a,{variant:"success",animated:!0,now:K})]}),Object(n.jsx)(q.a.Group,{className:"dragdrop-frm-group",children:Object(n.jsxs)("div",Object(B.a)(Object(B.a)({},se()),{},{children:[Object(n.jsx)("input",Object(B.a)({id:"content_file_drop"},le())),Object(n.jsx)("p",{children:"Drag 'n' drop some file here, or click to select files"})]}))}),Object(n.jsxs)(m.b,{type:"submit",color:"indigo",size:"sm",children:[Object(n.jsx)(m.d,{far:!0,icon:"save",size:"lg"}),"\xa0\xa0Submit"]}),Object(n.jsxs)(m.b,{type:"button",color:"indigo",size:"sm",onClick:function(){null!=Y&&(Y.cancel(),oe())},children:[Object(n.jsx)(m.d,{icon:"ban"}),"\xa0\xa0Cancel Upload"]})]})})]})})})})}var W=c(107),Q=c(214),J=c(204),Y=c(205),X=c(102),Z=c(207),$=c(206),ee=c(103),te=(c(179),c(36)),ce=(c(180),c(213));function ne(e){var t=e.show,c=e.list,a=e.onhide,s=e.hide_visible;return t&&Object(n.jsxs)(h.a,{fluid:!0,className:"C_Modal",children:[Object(n.jsx)(f.a,{className:"text-center py-3",children:s&&Object(n.jsx)(ee.a,{onClick:a,variant:"dark",children:"Close"})}),Object(n.jsx)(ce.a,{children:c.map((function(e,t){return Object(n.jsx)(ce.a.Item,{children:e},t)}))})]})}c(181);function ae(e){var t=e.onhide,c=e.data,s=window.ffmpeg_baseurl,l=Object(a.useState)(!1),i=Object(x.a)(l,2),r=i[0],o=i[1],d=Object(a.useState)(""),j=Object(x.a)(d,2),u=j[0],b=j[1],p=Object(a.useState)(!1),g=Object(x.a)(p,2),v=g[0],y=g[1],N=Object(a.useRef)(null);Object(a.useEffect)((function(){if("add"==c.e)ee(),P(),be();else if("edit"==c.e){var e=c.data,t=e.id,n=e.chapterName,a=e.classId,s=e.subjectId,l=e.contentID;N.current.value=t,C.current.value=n,ee(a),P(s),be(l)}else c.e}),[]);var C=Object(a.useRef)(null),S=Object(a.useState)(null),_=Object(x.a)(S,2),w=_[0],k=_[1],L=Object(a.useRef)(null),z=Object(a.useRef)(!1),D=function(e){he(e,L,z)},E=Object(a.useState)([]),R=Object(x.a)(E,2),A=R[0],T=R[1],P=function(e){o(!0),b("Loading..."),I.a.get("".concat(s,"api/mpeg/getSubject")).then((function(t){o(!1),b("");var c=t.data.data.map((function(e){return{value:e.id,label:e.subjectName}}));T(c);var n=c.find((function(t){return t.value==e}));k(n)})).catch((function(e){o(!1),b("Error loading Subject")}))},M=Object(a.useState)(null),H=Object(x.a)(M,2),V=H[0],K=H[1],W=Object(a.useRef)(null),Q=Object(a.useRef)(!1),J=function(e){he(e,W,Q)},Y=Object(a.useState)([]),X=Object(x.a)(Y,2),Z=X[0],$=X[1],ee=function(e){o(!0),b("Loading..."),I.a.get("".concat(s,"api/mpeg/getClasses")).then((function(t){o(!1),b("");var c=t.data.data.map((function(e){return{value:e.id,label:e.className}}));$(c);var n=c.find((function(t){return t.value==e}));K(n)})).catch((function(e){o(!1),b("Error loading Class")}))},ce=Object(a.useState)(null),ne=Object(x.a)(ce,2),ae=ne[0],se=ne[1],le=Object(a.useRef)(null),ie=Object(a.useRef)(!1),re=function(e){he(e,le,ie)},oe=Object(a.useState)([]),de=Object(x.a)(oe,2),je=de[0],ue=de[1],be=function(e){o(!0),b("Loading...");var t={_id:e};I.a.get("".concat(s,"api/mpeg/getContent"),{params:t}).then((function(t){o(!1),b("");var c=t.data.data.map((function(e){var t=e.contentID;return{value:t,label:t}}));c.unshift({value:null,label:"None"}),ue(c);var n=c.find((function(t){return t.value==e}));se(n)})).catch((function(e){o(!1),b("Error loading Class")}))},he=function(e,t,c){if(t.current){var n=t.current.select.controlRef;if(n)if(c.current=!0,null==e)n.style.borderColor="#dc3545";else{n.style.borderColor="#28a745";var a=n.parentNode.nextSibling;a&&a.classList.contains("valid-feedback")&&(a.style.display="block")}}};return Object(n.jsx)(h.a,{fluid:!0,className:"C_AddChap_Add",children:Object(n.jsx)(O.a,{children:Object(n.jsx)(f.a,{className:"col-md-8 col-lg-6 pt-3 mx-auto",children:Object(n.jsxs)(U.a,{children:[Object(n.jsxs)(U.a.Header,{children:["Add chapter ",Object(n.jsx)("span",{className:"loading-error",children:u}),r?Object(n.jsx)(G,{}):null]}),Object(n.jsx)(U.a.Body,{children:Object(n.jsxs)(q.a,{noValidate:!0,validated:v,onSubmit:function(e){if(b(""),o(!0),e.preventDefault(),e.stopPropagation(),!1===e.currentTarget.checkValidity()||null==w||null==V)b("Please provide all field"),o(!1);else{var n={id:N.current.value,chapterName:C.current.value,subjectId:null!=w?w.value:null,classId:null!=V?V.value:null,contentID:null!=ae?ae.value:null},a=null,l=null;if("add"!=c.e&&"attach"!=c.e||(a=Object(B.a)({},n),l="".concat(s,"api/mpeg/AddChapter")),"edit"==c.e&&(a=Object(B.a)({},n),l="".concat(s,"api/mpeg/PutChapter")),null==l||null==a)return;I.a.post(l,a,{headers:{"content-type":"application/json"}}).then((function(e){b(e.data.data),o(!1),F(e.data.data,"i"),t()})).catch((function(e){o(!1),setError_Cls("Error to save data")}))}y(!0),D(w),J(V)},children:[Object(n.jsx)("input",{type:"hidden",ref:N}),Object(n.jsxs)(q.a.Group,{controlId:"chapterName",children:[Object(n.jsx)(q.a.Label,{children:"Chapter Name"}),Object(n.jsx)(q.a.Control,{type:"text",defaultValue:"",ref:C,placeholder:"Chapter Name",required:!0}),Object(n.jsx)(q.a.Control.Feedback,{children:"Looks good!"})]}),Object(n.jsxs)(q.a.Group,{controlId:"subject",children:[Object(n.jsx)(q.a.Label,{children:"Subject"}),Object(n.jsx)(te.a,{value:w,options:A,onChange:function(e){k(e),z.current&&D(e)},ref:L}),Object(n.jsx)(q.a.Control.Feedback,{children:"Looks good!"})]}),Object(n.jsxs)(q.a.Group,{controlId:"class",children:[Object(n.jsx)(q.a.Label,{children:"Class"}),Object(n.jsx)(te.a,{value:V,options:Z,onChange:function(e){K(e),Q.current&&J(e)},ref:W}),Object(n.jsx)(q.a.Control.Feedback,{children:"Looks good!"})]}),Object(n.jsxs)(q.a.Group,{controlId:"contentID",children:[Object(n.jsx)(q.a.Label,{children:"content ID"}),Object(n.jsx)(te.a,{value:ae,options:je,onChange:function(e){se(e),ie.current&&re(e)},ref:le}),Object(n.jsx)(q.a.Control.Feedback,{children:"Looks good!"})]}),Object(n.jsxs)(m.b,{type:"submit",color:"indigo",size:"sm",children:[Object(n.jsx)(m.d,{far:!0,icon:"save",size:"lg"}),"\xa0\xa0Submit"]}),Object(n.jsxs)(m.b,{type:"submit",color:"indigo",size:"sm",onClick:t,children:[Object(n.jsx)(m.d,{icon:"times-circle",size:"lg"}),"\xa0\xa0Close"]})]})})]})})})})}function se(e){var t=window.ffmpeg_baseurl,c=Object(a.useState)(!1),s=Object(x.a)(c,2),l=s[0],i=s[1],r=Object(a.useState)(""),o=Object(x.a)(r,2),d=o[0],j=o[1],u=Object(a.useState)([]),b=Object(x.a)(u,2),m=b[0],p=b[1],g=Object(a.useState)(null),v=Object(x.a)(g,2),y=v[0],N=v[1],C=Object(a.useRef)(null),S=Object(a.useRef)(null),_=Object(a.useRef)(null),w=Object(a.useRef)(null),k=Object(a.useRef)(null),z=Object(a.useState)([]),D=Object(x.a)(z,2),E=D[0],R=D[1],A=Object(a.useState)(!1),T=Object(x.a)(A,2),P=T[0],M=T[1],U=Object(a.useState)(!1),q=Object(x.a)(U,2),H=q[0],V=q[1],K=Object(a.useState)([]),ce=Object(x.a)(K,2),se=ce[0],le=ce[1],ie=Object(a.useState)({pageindex:0,limit:5}),re=Object(x.a)(ie,2),oe=re[0],de=re[1],je=Object(a.useState)(!1),ue=Object(x.a)(je,2),be=ue[0],he=ue[1],Oe=Object(a.useState)(null),fe=Object(x.a)(Oe,2),me=fe[0],pe=fe[1],xe=Object(a.useState)(!1),ge=Object(x.a)(xe,2),ve=ge[0],ye=ge[1],Ne=Object(a.useState)({}),Ce=Object(x.a)(Ne,2),Se=Ce[0];Ce[1];Object(a.useEffect)((function(){_e(oe),N({value:"5",label:"5"})}),[]);var _e=function(e){i(!0),j("Loading..."),I.a.get("".concat(t,"api/mpeg/getContentPage"),{params:e}).then((function(e){p(e.data.data);for(var t=e.data,c=t.pageindex,a=t.totalPage,s=[],l=function(e){s.push(Object(n.jsx)(Q.a.Item,{onClick:function(){we(e)},active:e==c,children:e+1},e))},r=0;r<a;r++)l(r);le(s),i(!1),j("")})).catch((function(e){i(!1),j("Error loading Content")}))},we=function(e){de((function(t){var c=Object(B.a)(Object(B.a)({},t),{},{pageindex:e});return _e(c),c}))},Ie=function(e){clearTimeout(S.current),S.current=setTimeout((function(){e()}),1e3)},ke=function(e,t){de((function(c){var n=Object(B.a)(Object(B.a)({},c),{},{orderby:e,desc:t});return _e(n),n}))},Le=function(e,t){null!=e?"string"===typeof e&&R(t?[e]:function(t){return[e].concat(Object(W.a)(t))}):R([])},ze=function(e,c){var n=e.contentID,a=e.contentFileName;"start"===c?(M(!0),I.a.get("".concat(t,"api/mpeg/MediaInfo/").concat(n),{params:{fname:a}}).then((function(e){var t=e.data,c=t.duration,s=t.fps,l=t.frame;if("undefined"===typeof c)return Le("Video not exist!",!1),void V(!0);Le("Ready for Conversion...",!1),Le("Video duration ".concat(c,", fps ").concat(s," and frame ").concat(l),!1),De(n,(function(){Ee(n,a),Re(n,e.data)}))})).catch((function(e){console.log(e),Le(e,!1),V(!0)}))):"progress"===c?(M(!0),I.a.get("".concat(t,"api/mpeg/MediaInfo/").concat(n),{params:{fname:a}}).then((function(e){var t=e.data,c=t.duration,a=t.fps,s=t.frame;if("undefined"===typeof c)return Le("Video not exist!",!1),void V(!0);Le("Video duration ".concat(c,", fps ").concat(a," and frame ").concat(s),!1),Re(n,e.data)})).catch((function(e){console.log(e),Le(e,!1),V(!0)}))):"restore"===c?Te(n):"remove"===c?Fe(n):"delete"===c?confirm("are you sure to delete "+n)&&Pe(n):"play"===c&&(pe(n),he(!0))},De=function(e,c){Le("Ready for generate key file...",!1);var n={Id:e};I.a.post("".concat(t,"api/mpeg/CreateKey"),n,{headers:{"content-type":"application/json"}}).then((function(e){Le("key generated successfully",!1),F("key generated successfully","i"),c()})).catch((function(e){console.log(e),Le(e,!1),V(!0)}))},Ee=function(e,c){Le("Ready for encryption...",!1),I.a.get("".concat(t,"api/mpeg/Conversion/").concat(e),{params:{fname:c}}).then((function(e){Le("video file encrypted successfully...",!1),F("video file encrypted successfully","i")})).catch((function(e){console.log(e),Le(e,!1),V(!0)}))},Re=function(e,c){var n=c.frame;Le("keep watching the encryption progress...",!1),C.current=setInterval((function(){I.a.get("".concat(t,"api/mpeg/ConversionProgressInfo/").concat(e),{params:{}}).then((function(t){var c=t.data,a=c.status,s=c.currentFrame;if("continue"===a){var l=parseInt(s/n*100);Le("encryption progress ".concat(l,"%"),!1)}else"end"===a&&(Le("encryption progress 100% completed",!1),Ae(e,(function(){clearInterval(C.current),V(!0)})))})).catch((function(e){console.log(e),clearInterval(C.current),Le(e,!1),V(!0)}))}),1e4)},Ae=function(e,c){var n={Id:e};I.a.post("".concat(t,"api/mpeg/ConversionEnded"),n,{headers:{"content-type":"application/json"}}).then((function(e){console.log(e),Le(e.data.data,!1),F(e.data.data,"i"),c()})).catch((function(e){console.log(e),Le(e,!1),V(!0)}))},Te=function(e){var c={Id:e};I.a.post("".concat(t,"api/mpeg/RestoreKey2SD"),c,{headers:{"content-type":"application/json"}}).then((function(e){F(e.data.data,"i")})).catch((function(e){console.log(e),Le(e,!1),V(!0)}))},Pe=function(e){i(!0);var c={Id:e};I.a.post("".concat(t,"api/mpeg/Deletecontent"),c,{headers:{"content-type":"application/json"}}).then((function(e){i(!1),F(e.data.data,"i"),_e(oe)})).catch((function(e){j("Error"),i(!1),_e(oe)}))},Fe=function(e){var c={Id:e};I.a.post("".concat(t,"api/mpeg/RemoveKeyFromSD"),c,{headers:{"content-type":"application/json"}}).then((function(e){F(e.data.data,"i")})).catch((function(e){console.log(e),Le(e,!1),V(!0)}))};return Object(n.jsxs)(h.a,{fluid:!0,className:"C_Conversion",children:[Object(n.jsx)(L,{show:be,contentID:me,onhide:function(){he(!1)}}),Object(n.jsx)(ne,{show:P,list:E,onhide:function(){Le(null,!0),M(!1),V(!1),_e(oe)},hide_visible:H}),Object(n.jsx)(O.a,{children:ve?Object(n.jsx)(ae,{onhide:function(){ye(!1)},data:Se}):null}),Object(n.jsxs)(O.a,{className:"h-100 m-0",children:[Object(n.jsxs)(f.a,{className:"col-12 pt-3",children:[Object(n.jsx)("span",{className:"loading-error",children:d}),l?Object(n.jsx)(G,{}):null]}),Object(n.jsx)(f.a,{className:"col-12 pt-3",children:Object(n.jsxs)(J.a,{striped:!0,bordered:!0,hover:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Content ID",Object(n.jsx)(Y.a,{size:"sm",className:"",children:Object(n.jsx)(X.a,{placeholder:"Search by ID","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){var t;t=e.target.value,w.current.value="",k.current.value="",Ie((function(){de((function(e){var c=Object(B.a)(Object(B.a)({},e),{},{contentID:t,pageindex:0});return delete c.contentTitle,delete c.contentFileName,_e(c),c}))}))},ref:_})})]})}),Object(n.jsx)("th",{children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Content Title",Object(n.jsx)(Y.a,{size:"sm",className:"",children:Object(n.jsx)(X.a,{placeholder:"Search by Title","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){var t;t=e.target.value,_.current.value="",k.current.value="",Ie((function(){de((function(e){var c=Object(B.a)(Object(B.a)({},e),{},{contentTitle:t,pageindex:0});return delete c.contentID,delete c.contentFileName,_e(c),c}))}))},ref:w})})]})}),Object(n.jsx)("th",{children:Object(n.jsxs)("div",{className:"td-filter-box",children:["File Name",Object(n.jsx)(Y.a,{size:"sm",className:"",children:Object(n.jsx)(X.a,{placeholder:"Search by File Name","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){var t;t=e.target.value,_.current.value="",w.current.value="",Ie((function(){de((function(e){var c=Object(B.a)(Object(B.a)({},e),{},{contentFileName:t,pageindex:0});return delete c.contentID,delete c.contentTitle,_e(c),c}))}))},ref:k})})]})}),Object(n.jsx)("th",{children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Action",Object(n.jsxs)(Z.a,{children:[Object(n.jsx)(Z.a.Toggle,{size:"sm",variant:"light",id:"dropdown-basic",children:"Sort By \xa0\xa0"}),Object(n.jsxs)(Z.a.Menu,{children:[Object(n.jsx)(Z.a.Item,{href:"#",children:Object(n.jsxs)($.a,{size:"sm",children:[Object(n.jsx)(ee.a,{style:{marginRight:".7rem"},onClick:function(){ke("contentID","false")},children:"ID"}),Object(n.jsx)(ee.a,{onClick:function(){ke("contentID","true")},children:"Desc"})]})}),Object(n.jsx)(Z.a.Item,{href:"#",children:Object(n.jsxs)($.a,{size:"sm",children:[Object(n.jsx)(ee.a,{style:{marginRight:".7rem"},onClick:function(){ke("contentTitle","false")},children:"Title"}),Object(n.jsx)(ee.a,{onClick:function(){ke("contentTitle","true")},children:"Desc"})]})}),Object(n.jsx)(Z.a.Item,{href:"#",children:Object(n.jsxs)($.a,{size:"sm",children:[Object(n.jsx)(ee.a,{style:{marginRight:".7rem"},onClick:function(){ke("contentFileName","false")},children:"File Name"}),Object(n.jsx)(ee.a,{onClick:function(){ke("contentFileName","true")},children:"Desc"})]})})]})]})]})})]})}),Object(n.jsx)("tbody",{children:m.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.contentID}),Object(n.jsx)("td",{children:e.contentTitle}),Object(n.jsx)("td",{children:e.contentFileName}),Object(n.jsx)("td",{className:"action-box",children:"0"==e.IsConversion?Object(n.jsxs)("span",{children:[Object(n.jsx)(ee.a,{variant:"outline-info",size:"sm",className:"mr-1 mb-1",onClick:function(){return ze(e,"start")},children:"Start"}),Object(n.jsx)(ee.a,{variant:"outline-danger",size:"sm",className:"mb-1",onClick:function(){return ze(e,"delete")},children:"Delete"})]}):"1"==e.IsConversion?Object(n.jsx)(ee.a,{variant:"outline-info",size:"sm",onClick:function(){return ze(e,"progress")},children:"Progress"}):Object(n.jsxs)("span",{children:[Object(n.jsxs)(Z.a,{children:[Object(n.jsx)(Z.a.Toggle,{variant:"info",size:"sm",id:"dropdown-content",className:"mr-1 mb-1",children:"Content \xa0"}),Object(n.jsxs)(Z.a.Menu,{children:[Object(n.jsx)(Z.a.Item,{onClick:function(){return ze(e,"play")},children:"Play"}),Object(n.jsx)(Z.a.Item,{className:"danger",onClick:function(){return ze(e,"delete")},children:"Delete"})]})]}),Object(n.jsxs)(Z.a,{children:[Object(n.jsx)(Z.a.Toggle,{variant:"info",size:"sm",id:"dropdown-key",className:"mb-1",children:"Key \xa0"}),Object(n.jsxs)(Z.a.Menu,{children:[Object(n.jsx)(Z.a.Item,{onClick:function(){return ze(e,"restore")},children:"Restore to device"}),Object(n.jsx)(Z.a.Item,{className:"danger",onClick:function(){return ze(e,"remove")},children:"Remove from device"})]})]})]})})]},t)}))})]})}),Object(n.jsx)(f.a,{className:"col-4 pt-3",children:Object(n.jsx)("table",{className:"lmt",children:Object(n.jsx)("tbody",{children:Object(n.jsx)("tr",{children:Object(n.jsxs)("td",{children:[Object(n.jsx)("div",{className:"y",children:" Limit: "}),Object(n.jsx)(te.a,{value:y,className:"x",options:[{value:"5",label:"5"},{value:"10",label:"10"},{value:"50",label:"50"},{value:"100",label:"100"}],onChange:function(e){N(e),de((function(t){var c=Object(B.a)(Object(B.a)({},t),{},{limit:e.value,pageindex:0});return _e(c),c}))}})]})})})})}),Object(n.jsx)(f.a,{className:"col-8 pt-3 pagination-wrapper",children:Object(n.jsx)(Q.a,{size:"sm",children:se})})]})]})}c(191);function le(){var e=window.ffmpeg_baseurl,t=Object(a.useState)(!1),c=Object(x.a)(t,2),s=c[0],l=c[1],i=Object(a.useState)(""),r=Object(x.a)(i,2),o=r[0],d=r[1],j=Object(a.useState)([]),u=Object(x.a)(j,2),b=u[0],p=u[1],g=Object(a.useRef)(null),v=Object(a.useRef)(null),y=Object(a.useState)(!1),N=Object(x.a)(y,2),C=N[0],S=N[1],_=Object(a.useRef)(null),w=Object(a.useRef)(null),k=Object(a.useState)(!1),L=Object(x.a)(k,2),z=L[0],D=L[1],E=Object(a.useState)(""),R=Object(x.a)(E,2),A=R[0],T=R[1],P=Object(a.useState)([]),M=Object(x.a)(P,2),B=M[0],U=M[1],H=Object(a.useRef)(null),V=Object(a.useRef)(null),K=Object(a.useState)(!1),W=Object(x.a)(K,2),Q=W[0],Y=W[1],X=Object(a.useRef)(null),Z=Object(a.useRef)(null);Object(a.useEffect)((function(){$(),ee()}),[]);var $=function(){l(!0),I.a.get("".concat(e,"api/mpeg/getClasses")).then((function(e){p(e.data.data),ae("cls"),l(!1),d("")})).catch((function(e){l(!1),d("Error loading Class")}))},ee=function(){D(!0),T("Loading..."),I.a.get("".concat(e,"api/mpeg/getSubject")).then((function(e){U(e.data.data),ae("sub"),D(!1),T("")})).catch((function(e){D(!1),T("Error loading Subject")}))},te=function(t){var c=t.name,n=t.id,a=t.e;l(!0);var s=null,i=null;"update_cls"===a?(s={name:c,id:n},i="".concat(e,"api/mpeg/PutClass")):"add_cls"===a?(s={name:c},i="".concat(e,"api/mpeg/AddClass")):"delete_cls"===a&&(s={id:n},i="".concat(e,"api/mpeg/RemoveClass")),null!=i&&null!=s&&I.a.post(i,s,{headers:{"content-type":"application/json"}}).then((function(e){d(e.data.data),F(e.data.data,"info"),$()})).catch((function(e){d("Error to save data")}))},ce=function(t){var c=t.name,n=t.id,a=t.e;D(!0);var s=null,l=null;"update_sub"===a?(s={name:c,id:n},l="".concat(e,"api/mpeg/PutSubject")):"add_sub"===a?(s={name:c},l="".concat(e,"api/mpeg/AddSubject")):"delete_sub"===a&&(s={id:n},l="".concat(e,"api/mpeg/RemoveSubject")),null!=l&&null!=s&&I.a.post(l,s,{headers:{"content-type":"application/json"}}).then((function(e){T(e.data.data),ee(),F(e.data.data,"info")})).catch((function(e){T("Error to save data")}))},ne=function(e,t){var c=e.id,n=e.className,a=e.subjectName;if("edit_cls"===t)w.current.value=c,_.current.value=n,S(!0),se(c);else if("update_cls"===t){if(""==_.current.value)return;if(""==w.current.value)return;te({name:_.current.value,id:w.current.value,e:t}),setTimeout((function(){w.current.value="",_.current.value="",S(!1),se(null)}),200)}else if("delete_cls"===t){if(""==c)return;te({id:c,e:t})}else if("add_cls"===t){if(""==_.current.value)return void F("Please provide class name","w");te({name:_.current.value,e:t}),setTimeout((function(){_.current.value=""}),200)}else if("edit_sub"===t)Z.current.value=c,X.current.value=a,Y(!0),le(c);else if("update_sub"===t){if(""==X.current.value)return;if(""==Z.current.value)return;ce({name:X.current.value,id:Z.current.value,e:t}),setTimeout((function(){Z.current.value="",X.current.value="",Y(!1),se(null),le(null)}),200)}else if("delete_sub"===t){if(""==c)return;ce({id:c,e:t})}else if("add_sub"===t){if(""==X.current.value)return void F("Please provide subject name","w");ce({name:X.current.value,e:t}),setTimeout((function(){X.current.value=""}),200)}},ae=function(e){if("cls"===e){if("undefined"===typeof g.current)return;var t=parseInt(g.current.clientHeight),c=parseInt(g.current.parentElement.clientHeight);if("undefined"===typeof v.current)return;v.current.style.borderRight=t>c?".9rem solid #cecece":"0rem solid #cecece"}else if("sub"===e){if("undefined"===typeof H.current)return;var n=parseInt(H.current.clientHeight),a=parseInt(H.current.parentElement.clientHeight);if("undefined"===typeof v.current)return;V.current.style.borderRight=n>a?".9rem solid #cecece":"0rem solid #cecece"}},se=function(e){document.querySelectorAll(".tr_cls").forEach((function(e){e.classList.remove("active")})),e&&document.querySelector(".tr_cls_"+e).classList.add("active")},le=function(e){document.querySelectorAll(".tr_sub").forEach((function(e){e.classList.remove("active")})),e&&document.querySelector(".tr_sub_"+e).classList.add("active")};return Object(n.jsx)(h.a,{fluid:!0,className:"C_AddCsub",children:Object(n.jsxs)(O.a,{className:"h-100 m-0",children:[Object(n.jsxs)(f.a,{className:"col-sm-12 col-md-10 col-lg-6 pt-3 mx-auto",children:[Object(n.jsx)(J.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",ref:v,children:Object(n.jsxs)("thead",{children:[Object(n.jsx)("tr",{children:Object(n.jsxs)("th",{colSpan:"3",children:["Class List",Object(n.jsx)("span",{className:"loading-error",children:o}),s?Object(n.jsx)(G,{}):null]})}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{style:{width:"10%"},children:"#"}),Object(n.jsx)("th",{style:{width:"70%"},children:"Description"}),Object(n.jsx)("th",{style:{width:"20%"},children:"Action"})]})]})}),Object(n.jsx)("div",{className:"tblList-class",children:Object(n.jsx)(J.a,{striped:!0,bordered:!0,hover:!0,ref:g,className:"mb-0",children:Object(n.jsx)("tbody",{children:b.map((function(e,t){return Object(n.jsxs)("tr",{className:"tr_cls tr_cls_"+e.id,children:[Object(n.jsx)("td",{style:{width:"10%"},children:t+1}),Object(n.jsx)("td",{style:{width:"70%"},children:e.className}),Object(n.jsx)("td",{style:{width:"20%"},className:"actions",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{title:"edit Class",className:"btnEdit",type:"button",onClick:function(){return ne(e,"edit_cls")},children:Object(n.jsx)(m.d,{size:"lg",icon:"edit mdb-gallery-view-icon"})}),Object(n.jsx)("button",{title:"Delete Class",className:"btnDelete",type:"button",onClick:function(){return ne(e,"delete_cls")},children:Object(n.jsx)(m.d,{size:"lg",icon:"trash-alt mdb-gallery-view-icon"})})]})})]},t)}))})})}),Object(n.jsx)(q.a,{noValidate:!0,children:Object(n.jsx)(J.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",children:Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{width:"10%"}}),Object(n.jsx)("td",{style:{width:"70%"},className:"py-1",children:Object(n.jsxs)(q.a.Group,{controlId:"Class_Name",className:"my-0",children:[Object(n.jsx)(q.a.Control,{type:"text",autoComplete:"off",placeholder:"Class Name",required:!0,defaultValue:"",ref:_}),Object(n.jsx)(q.a.Control.Feedback,{children:"Looks good!"})]})}),Object(n.jsxs)("td",{className:"actions py-1",style:{width:"20%"},children:[Object(n.jsx)("input",{type:"hidden",ref:w}),C?Object(n.jsxs)(m.b,{size:"sm",onClick:function(){return ne({},"update_cls")},color:"indigo",className:"btnAdd",children:[Object(n.jsx)(m.d,{size:"lg",icon:"save",className:"ml-2"})," Update"]}):Object(n.jsxs)(m.b,{size:"sm",onClick:function(){return ne({},"add_cls")},color:"indigo",className:"btnAdd",children:[Object(n.jsx)(m.d,{size:"lg",icon:"plus-circle mdb-gallery-view-icon",className:"ml-2"})," Add"]})]})]})})})})]}),Object(n.jsxs)(f.a,{className:"col-sm-12 col-md-10 col-lg-6 pt-3 mx-auto Subject",children:[Object(n.jsx)(J.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",ref:V,children:Object(n.jsxs)("thead",{children:[Object(n.jsx)("tr",{children:Object(n.jsxs)("th",{colSpan:"3",children:["Subject List",Object(n.jsx)("span",{className:"loading-error",children:A}),z?Object(n.jsx)(G,{}):null]})}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{style:{width:"10%"},children:"#"}),Object(n.jsx)("th",{style:{width:"70%"},children:"Description"}),Object(n.jsx)("th",{style:{width:"20%"},children:"Action"})]})]})}),Object(n.jsx)("div",{className:"tblList-class",children:Object(n.jsx)(J.a,{striped:!0,bordered:!0,hover:!0,ref:H,className:"mb-0",children:Object(n.jsx)("tbody",{children:B.map((function(e,t){return Object(n.jsxs)("tr",{className:"tr_sub tr_sub_"+e.id,children:[Object(n.jsx)("td",{style:{width:"10%"},children:t+1}),Object(n.jsx)("td",{style:{width:"70%"},children:e.subjectName}),Object(n.jsx)("td",{style:{width:"20%"},className:"actions",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{title:"edit Class",className:"btnEdit",type:"button",onClick:function(){return ne(e,"edit_sub")},children:Object(n.jsx)(m.d,{size:"lg",icon:"edit mdb-gallery-view-icon"})}),Object(n.jsx)("button",{title:"Delete Class",className:"btnDelete",type:"button",onClick:function(){return ne(e,"delete_sub")},children:Object(n.jsx)(m.d,{size:"lg",icon:"trash-alt mdb-gallery-view-icon"})})]})})]},t)}))})})}),Object(n.jsx)(q.a,{noValidate:!0,children:Object(n.jsx)(J.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",children:Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{width:"10%"}}),Object(n.jsx)("td",{style:{width:"70%"},className:"py-1",children:Object(n.jsxs)(q.a.Group,{controlId:"Subject_Name",className:"my-0",children:[Object(n.jsx)(q.a.Control,{type:"text",autoComplete:"off",placeholder:"Subject Name",required:!0,defaultValue:"",ref:X}),Object(n.jsx)(q.a.Control.Feedback,{children:"Looks good!"})]})}),Object(n.jsxs)("td",{className:"actions py-1",style:{width:"20%"},children:[Object(n.jsx)("input",{type:"hidden",ref:Z}),Q?Object(n.jsxs)(m.b,{size:"sm",onClick:function(){return ne({},"update_sub")},color:"indigo",className:"btnAdd",children:[Object(n.jsx)(m.d,{size:"lg",icon:"save",className:"ml-2"})," Update"]}):Object(n.jsxs)(m.b,{size:"sm",onClick:function(){return ne({},"add_sub")},color:"indigo",className:"btnAdd",children:[Object(n.jsx)(m.d,{size:"lg",icon:"plus-circle mdb-gallery-view-icon",className:"ml-2"})," Add"]})]})]})})})})]})]})})}c(192);function ie(){var e=window.ffmpeg_baseurl,t=Object(a.useState)(!1),c=Object(x.a)(t,2),s=c[0],l=c[1],i=Object(a.useState)(""),r=Object(x.a)(i,2),o=r[0],d=r[1],j=Object(a.useRef)(null),u=Object(a.useState)([]),b=Object(x.a)(u,2),p=b[0],g=b[1],v=Object(a.useState)(null),y=Object(x.a)(v,2),N=y[0],C=y[1],S=Object(a.useRef)(null),_=Object(a.useRef)(null),w=Object(a.useState)([]),k=Object(x.a)(w,2),L=k[0],z=k[1],D=Object(a.useState)({pageindex:0,limit:10}),E=Object(x.a)(D,2),R=E[0],A=E[1],T=Object(a.useState)(!1),P=Object(x.a)(T,2),F=P[0],M=P[1],U=Object(a.useState)({}),q=Object(x.a)(U,2),H=q[0],V=q[1];Object(a.useEffect)((function(){K(R),C({value:"10",label:"10"})}),[]);var K=function(t){l(!0),d("Loading..."),I.a.get("".concat(e,"api/mpeg/getChapterFilter"),{params:t}).then((function(e){g(e.data.data);var t=e.data,c=t.pageindex,a=t.totalPage,s=[];parseInt(c)>0&&s.push(Object(n.jsx)(Q.a.Item,{onClick:function(){W(parseInt(c)-1)},children:Object(n.jsx)(m.d,{icon:"angle-double-left",size:"lg"})},"prev"));for(var i=function(e){s.push(Object(n.jsx)(Q.a.Item,{onClick:function(){W(e)},active:e==c,children:parseInt(e)+1},e))},r=0;r<a;r++)i(r);parseInt(c)<parseInt(a)&&s.push(Object(n.jsx)(Q.a.Item,{onClick:function(){W(parseInt(c)+1)},children:Object(n.jsx)(m.d,{icon:"angle-double-right",size:"lg"})},"next")),z(s),l(!1),d("")})).catch((function(e){l(!1),d("Error loading Chapter")}))},W=function(e){A((function(t){var c=Object(B.a)(Object(B.a)({},t),{},{pageindex:e});return K(c),c}))},ce=function(e,t){A((function(c){var n=Object(B.a)(Object(B.a)({},c),{},{orderby:e,desc:t,pageindex:0});return K(n),n}))},ne=function(e,t){"chap"==t?se((function(){A((function(t){var c=Object(B.a)(Object(B.a)({},t),{},{chapterName:e,pageindex:0});return K(c),c}))})):"cls"==t?se((function(){A((function(t){var c=Object(B.a)(Object(B.a)({},t),{},{className:e,pageindex:0});return K(c),c}))})):"sub"==t?se((function(){A((function(t){var c=Object(B.a)(Object(B.a)({},t),{},{subjectName:e,pageindex:0});return K(c),c}))})):"content_id"==t&&se((function(){A((function(t){var c=Object(B.a)(Object(B.a)({},t),{},{contentID:e,pageindex:0});return K(c),c}))}))},se=function(e){clearTimeout(_.current),_.current=setTimeout((function(){e()}),1e3)},le=function(t,c){if("add_new"==c)V({e:"add"}),M(!0);else if("edit"==c)V({e:"edit",data:t}),M(!0);else if("remove"==c){if(!confirm("are you sure to delete?"))return;var n={id:t.id},a="".concat(e,"api/mpeg/RemoveChapter");if(null==a||null==n)return;I.a.post(a,n,{headers:{"content-type":"application/json"}}).then((function(e){d(e.data.data),l(!1),K(R)})).catch((function(e){l(!1),setError_Cls("Error to delete data")}))}};return Object(n.jsxs)(h.a,{fluid:!0,className:"C_AddChap",children:[Object(n.jsx)(O.a,{children:F?Object(n.jsx)(ae,{onhide:function(){K(R),M(!1)},data:H}):null}),Object(n.jsxs)(O.a,{className:"h-100 m-0",children:[Object(n.jsxs)(f.a,{className:"col-12 pt-3",children:[Object(n.jsx)("span",{className:"loading-error",children:o}),s?Object(n.jsx)(G,{}):null]}),Object(n.jsxs)(f.a,{className:"col-12",children:[Object(n.jsx)(J.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",children:Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{style:{width:"30%"},className:"px-1",children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Chapter",Object(n.jsx)(Y.a,{size:"sm",className:"",children:Object(n.jsx)(X.a,{placeholder:"Search","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){ne(e.target.value,"chap")},ref:j})})]})}),Object(n.jsx)("th",{style:{width:"10%"},className:"px-1",children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Class",Object(n.jsx)(Y.a,{size:"sm",children:Object(n.jsx)(X.a,{placeholder:"Search","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){ne(e.target.value,"cls")},ref:j})})]})}),Object(n.jsx)("th",{style:{width:"15%"},className:"px-1",children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Subject",Object(n.jsx)(Y.a,{size:"sm",className:"",children:Object(n.jsx)(X.a,{placeholder:"Search","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){ne(e.target.value,"sub")},ref:j})})]})}),Object(n.jsx)("th",{style:{width:"30%"},className:"px-1",children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Content ID",Object(n.jsx)(Y.a,{size:"sm",className:"",children:Object(n.jsx)(X.a,{placeholder:"Search","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){ne(e.target.value,"content_id")},ref:j})})]})}),Object(n.jsx)("th",{style:{width:"15%"},className:"px-1",children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Action",Object(n.jsxs)(Z.a,{children:[Object(n.jsx)(Z.a.Toggle,{size:"sm",variant:"light",id:"dropdown-basic",className:"w-100 m-0",children:"Sort By \xa0\xa0"}),Object(n.jsxs)(Z.a.Menu,{children:[Object(n.jsx)(Z.a.Item,{href:"#",children:Object(n.jsxs)($.a,{size:"sm",children:[Object(n.jsx)(ee.a,{style:{marginRight:".7rem"},onClick:function(){ce("chapterName","false")},children:"Chapter"}),Object(n.jsx)(ee.a,{onClick:function(){ce("chapterName","true")},children:"Desc"})]})}),Object(n.jsx)(Z.a.Item,{href:"#",children:Object(n.jsxs)($.a,{size:"sm",children:[Object(n.jsx)(ee.a,{style:{marginRight:".7rem"},onClick:function(){ce("classId","false")},children:"Class"}),Object(n.jsx)(ee.a,{onClick:function(){ce("classId","true")},children:"Desc"})]})}),Object(n.jsx)(Z.a.Item,{href:"#",children:Object(n.jsxs)($.a,{size:"sm",children:[Object(n.jsx)(ee.a,{style:{marginRight:".7rem"},onClick:function(){ce("subjectId","false")},children:"Subject"}),Object(n.jsx)(ee.a,{onClick:function(){ce("subjectId","true")},children:"Desc"})]})}),Object(n.jsx)(Z.a.Item,{href:"#",children:Object(n.jsxs)($.a,{size:"sm",children:[Object(n.jsx)(ee.a,{style:{marginRight:".7rem"},onClick:function(){ce("contentID","false")},children:"contentID"}),Object(n.jsx)(ee.a,{onClick:function(){ce("contentID","true")},children:"Desc"})]})})]})]})]})})]})})}),Object(n.jsx)("div",{className:"tblList-class",children:Object(n.jsx)(J.a,{striped:!0,bordered:!0,hover:!0,ref:S,className:"mb-0",children:Object(n.jsx)("tbody",{children:p.map((function(e,t){return Object(n.jsxs)("tr",{className:"tr_cls tr_cls_"+e.id,children:[Object(n.jsx)("td",{style:{width:"30%"},children:e.chapterName}),Object(n.jsx)("td",{style:{width:"10%"},children:e.className}),Object(n.jsx)("td",{style:{width:"15%"},children:e.subjectName}),Object(n.jsx)("td",{style:{width:"30%"},children:e.contentID}),Object(n.jsx)("td",{style:{width:"15%"},className:"actions",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{title:"Change",className:"btnEdit",type:"button",onClick:function(){return le(e,"edit")},children:Object(n.jsx)(m.d,{size:"lg",icon:"edit mdb-gallery-view-icon"})}),Object(n.jsx)("button",{title:"Remove",className:"btnDelete",type:"button",onClick:function(){return le(e,"remove")},children:Object(n.jsx)(m.d,{size:"lg",icon:"trash-alt mdb-gallery-view-icon"})})]})})]},t)}))})})})]}),Object(n.jsx)(f.a,{className:"col-4 pt-3",children:Object(n.jsx)("table",{className:"lmt",children:Object(n.jsx)("tbody",{children:Object(n.jsx)("tr",{children:Object(n.jsxs)("td",{children:[Object(n.jsx)("div",{className:"y",children:" Limit: "}),Object(n.jsx)(te.a,{value:N,className:"x",options:[{value:"10",label:"10"},{value:"50",label:"50"},{value:"100",label:"100"}],onChange:function(e){C(e),A((function(t){var c=Object(B.a)(Object(B.a)({},t),{},{limit:e.value,pageindex:0});return K(c),c}))}})]})})})})}),Object(n.jsx)(f.a,{className:"col-8 pt-3 pagination-wrapper",children:Object(n.jsx)(Q.a,{size:"sm",children:L})}),Object(n.jsxs)(f.a,{className:"col-12 pt-3",children:[Object(n.jsxs)(m.b,{size:"sm",onClick:function(){return le({},"add_new")},color:"indigo",className:"btnAdd",children:[Object(n.jsx)(m.d,{size:"lg",icon:"plus-circle mdb-gallery-view-icon",className:"ml-2"}),"\xa0 Add New"]}),Object(n.jsx)("p",{children:Object(n.jsx)("br",{})})]})]})]})}c(193);function re(){var e=window.ffmpeg_baseurl,t=Object(a.useState)(!1),c=Object(x.a)(t,2),s=c[0],l=c[1],i=Object(a.useState)(""),r=Object(x.a)(i,2),o=r[0],d=r[1],j=Object(a.useState)(""),u=Object(x.a)(j,2),b=u[0],p=u[1],g=Object(a.useState)(!1),v=Object(x.a)(g,2),y=v[0],N=v[1];Object(a.useEffect)((function(){C()}),[]);var C=function(){l(!0),I.a.get("".concat(e,"api/mpeg/SQliteHavePassword")).then((function(e){N(e.data.data),l(!1)})).catch((function(e){d("Error load SQliteHavePassword"),l(!1)}))},S=function(t){var c={secret:b,type:t};l(!0),I.a.get("".concat(e,"api/mpeg/SQliteChangePassword"),{params:c}).then((function(e){l(!1),d(e.data.data),C(),p("")})).catch((function(e){d("Error"),l(!1)}))};return Object(n.jsx)(h.a,{fluid:!0,className:"C_Settings",children:Object(n.jsx)(O.a,{className:"h-100 m-0",children:Object(n.jsx)(f.a,{className:"col-md-8 col-lg-6 pt-3",children:Object(n.jsxs)(U.a,{children:[Object(n.jsxs)(U.a.Header,{children:["DB Encryption",y?Object(n.jsx)(m.d,{icon:"unlock",size:"2x",className:"float-right"}):Object(n.jsx)(m.d,{icon:"lock-open",size:"2x",className:"float-right"}),Object(n.jsx)("span",{className:"loading-error",children:o}),s?Object(n.jsx)(G,{}):null]}),Object(n.jsx)(U.a.Body,{children:Object(n.jsxs)(q.a,{noValidate:!0,children:[Object(n.jsxs)(q.a.Group,{controlId:"Secret",children:[Object(n.jsx)(q.a.Label,{children:"Secret"}),Object(n.jsx)(q.a.Control,{type:"text",autoComplete:"off",placeholder:"Secret",required:!0,value:b,onChange:function(e){p(e.target.value)}})]}),y?Object(n.jsxs)(m.b,{type:"submit",color:"indigo",size:"md",onClick:function(){return S("remove")},children:[Object(n.jsx)(m.d,{icon:"lock-open",size:"2x"}),"\xa0\xa0Remove Password"]}):Object(n.jsxs)(m.b,{type:"submit",color:"indigo",size:"md",onClick:function(){return S("add")},children:[Object(n.jsx)(m.d,{icon:"unlock",size:"2x"}),"\xa0\xa0Add Password"]})]})})]})})})})}function oe(e){return Object(n.jsxs)(a.Fragment,{children:[Object(n.jsx)(b.a,{path:"/",exact:!0,children:Object(n.jsx)(p,{})}),Object(n.jsx)(b.a,{path:"/admin",component:M}),Object(n.jsxs)(b.c,{children:[Object(n.jsx)(b.a,{path:"/home",exact:!0,component:z}),Object(n.jsx)(b.a,{path:"/admin/upload",exact:!0,component:K}),Object(n.jsx)(b.a,{path:"/admin/conversion",exact:!0,component:se}),Object(n.jsx)(b.a,{path:"/admin/addclsnsub",exact:!0,component:le}),Object(n.jsx)(b.a,{path:"/admin/addchap",exact:!0,component:ie}),Object(n.jsx)(b.a,{path:"/admin/settings",exact:!0,component:re}),Object(n.jsx)(b.a,{path:"/admin/test",exact:!0,render:function(){return Object(n.jsx)("h3",{children:"Test"})}})]})]})}var de=function(e){Object(d.a)(c,e);var t=Object(j.a)(c);function c(){return Object(r.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(n.jsx)(u.a,{children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(oe,{})})})}}]),c}(a.Component);console.clear();var je=window.publish||!1;window.ffmpeg_baseurl=1==je?window.location.origin+"/":"http://localhost:50017/",i.a.render(Object(n.jsx)(de,{}),document.getElementById("root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.d612f52b.chunk.js.map