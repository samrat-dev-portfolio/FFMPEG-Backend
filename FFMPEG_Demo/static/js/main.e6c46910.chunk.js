(this["webpackJsonpffmpeg-demo"]=this["webpackJsonpffmpeg-demo"]||[]).push([[0],{105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){},139:function(e,t,c){},140:function(e,t,c){},141:function(e,t,c){},142:function(e,t,c){},162:function(e,t,c){},163:function(e,t,c){},164:function(e,t,c){},166:function(e,t,c){},167:function(e,t,c){},168:function(e,t,c){},169:function(e,t,c){},170:function(e,t,c){},180:function(e,t,c){},181:function(e,t,c){},182:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(1),s=c.n(a),l=c(21),i=c.n(l),r=(c(105),c(84)),o=c(85),d=c(99),j=c(96),u=c(24),b=c(14),h=(c(30),c(106),c(190)),O=c(191),f=c(89),m=(c(107),c(10));c(43),c(44),c(45);function p(){return Object(n.jsx)(h.a,{fluid:!0,className:"C_Entry bimg-page-1",children:Object(n.jsxs)(O.a,{className:"h-100",children:[Object(n.jsx)(f.a,{className:"col-9"}),Object(n.jsx)(f.a,{className:"col-3 p-0",children:Object(n.jsx)("div",{className:"home_btn_row",children:Object(n.jsx)(u.b,{className:"home_btn",to:"/home",children:Object(n.jsx)(m.b,{color:"amber",children:"Enter"})})})})]})})}var x=c(8);c(139);function g(e){return Object(n.jsx)(h.a,{fluid:!0,className:"C_Header bimg-page-2 p-0",children:Object(n.jsxs)(O.a,{className:"h-100 gutter m-0",children:[Object(n.jsx)(f.a,{className:"col-6 logo-1"}),Object(n.jsx)(f.a,{className:"col-6 space-1",children:Object(n.jsx)("div",{className:"b-orange h-100",children:Object(n.jsxs)("div",{className:"h-100 row space-2 m-0",children:[Object(n.jsx)("div",{className:"col-4 pr-0 b-red content-box c-white d-flex center-xy",children:e.selected_class}),Object(n.jsx)("div",{className:"col-8 pl-0 b-green content-box c-white d-flex center-xy",children:e.selected_chapter})]})})})]})})}c(140),c(141),c(142);function v(e){return Object(n.jsx)("span",{className:"C_ProgressAlert progress-1",children:e.alert})}function y(e){return Object(n.jsx)(h.a,{fluid:!0,className:"C_Content bimg-page-2 p-0",children:Object(n.jsxs)(O.a,{className:"h-100 gutter m-0",children:[Object(n.jsx)(f.a,{className:"col-12 b-orange py-1 b-radius-1 shadow-1",children:Object(n.jsxs)(O.a,{children:[Object(n.jsx)(f.a,{className:"col-2 pl-4",children:"Shreni"}),Object(n.jsx)(f.a,{className:"col-3 pl-4",children:"Bishoy"}),Object(n.jsx)(f.a,{className:"col-7 pl-4",children:"Adhay Suchi"})]})}),Object(n.jsx)(f.a,{className:"col-12 b-red b-radius-2 space-3",children:Object(n.jsxs)(O.a,{className:"h-100 m-0",children:[Object(n.jsxs)(f.a,{className:"col-2 pr-0 content-box",children:[e.loading_class.enabled?Object(n.jsx)(v,{alert:e.loading_class.alert}):null,Object(n.jsx)("div",{className:"h-100 b-color-1 b-radius-3",children:Object(n.jsx)("ul",{className:"list-group grp-1",children:e.my_class})})]}),Object(n.jsxs)(f.a,{className:"col-3 pr-0 content-box",children:[e.loading_subject.enabled?Object(n.jsx)(v,{alert:e.loading_subject.alert}):null,Object(n.jsx)("div",{className:"h-100 b-color-1 b-radius-3",children:Object(n.jsx)("ul",{className:"list-group grp-2",children:e.my_subject})})]}),Object(n.jsxs)(f.a,{className:"col-7 pr-0 content-box",children:[e.loading_chapter.enabled?Object(n.jsx)(v,{alert:e.loading_chapter.alert}):null,Object(n.jsx)("ul",{className:"list-group grp-3",children:e.my_chapter})]})]})})]})})}var N=c(12),C=c.n(N),S=c(90);c(162);function _(e){var t=e.show,c=e.onhide,l=e.contentID,i=e.chapter,r=window.ffmpeg_baseurl,o=s.a.useRef(),d=s.a.useRef(),j=Object(a.useState)(""),u=Object(x.a)(j,2),b=u[0],p=u[1];Object(a.useEffect)((function(){}),[]);var g=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||document.body.offsetWidth;if(e<(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||document.body.offsetHeight)){if("undefined"===typeof d.current)return;d.current.style.width="90%"}else{if("undefined"===typeof d.current)return;if(null===d.current)return;var t=3/4*e-50;d.current.style.width=t+"px"}};return Object(a.useEffect)((function(){document.body.onresize=function(){g()}}),[]),Object(a.useEffect)((function(){null!==l&&(p("".concat(r,"api/mpeg/M3u8info/").concat(l)),g())}),[t]),Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){}),[]),t&&Object(n.jsx)(h.a,{fluid:!0,className:"C_Player",children:Object(n.jsx)(f.a,{className:"text-center py-3",children:Object(n.jsx)("div",{className:"player-wrapper",ref:d,children:Object(n.jsxs)(m.c,{className:"text-center",children:[Object(n.jsx)(O.a,{className:"header",children:Object(n.jsxs)(f.a,{className:"col-12 p-0",children:[Object(n.jsxs)("p",{className:"m-0 h-100",children:["\xa0",i]}),Object(n.jsxs)(m.b,{className:"exit",color:"mdb-color",size:"sm",onClick:c,children:[Object(n.jsx)(m.d,{icon:"times-circle"}),"\xa0\xa0Close"]})]})}),Object(n.jsx)(O.a,{className:"player-body",children:b.length>0?Object(n.jsx)(S.a,{playerRef:o,srcoff:"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8",xsrc:"http://localhost:50017/api/mpeg/M3u8info/20210417-020532-d829654b-bdaf-4c0c-bad6-dd7ce8326e31",src:b,autoPlay:!1,controls:!0,width:"100%",height:"auto",onEnded:function(){o.current.classList.add("fadex"),setTimeout((function(){c()}),3100)}}):null})]})})})})}function w(e){var t=window.ffmpeg_baseurl,c=Object(a.useState)({enabled:!1,alert:""}),s=Object(x.a)(c,2),l=s[0],i=s[1],r=Object(a.useState)([]),o=Object(x.a)(r,2),d=o[0],j=o[1],u=Object(a.useState)(""),b=Object(x.a)(u,2),h=b[0],O=b[1],f=Object(a.useState)(""),m=Object(x.a)(f,2),p=m[0],v=m[1],N=Object(a.useState)(""),S=Object(x.a)(N,2),w=S[0],I=S[1],k=Object(a.useState)({enabled:!1,alert:""}),L=Object(x.a)(k,2),D=L[0],z=L[1],R=Object(a.useState)([]),E=Object(x.a)(R,2),A=E[0],T=E[1],F=Object(a.useState)(""),P=Object(x.a)(F,2),M=P[0],U=P[1],q=Object(a.useState)({enabled:!1,alert:""}),B=Object(x.a)(q,2),V=B[0],H=B[1],K=Object(a.useState)([]),G=Object(x.a)(K,2),W=G[0],J=G[1];Object(a.useEffect)((function(){ce(),Y(),Q();var t=new URLSearchParams(e.location.search),c=t.get("cls");c&&O(c);var n=t.get("sub");n&&U(n);var a=t.get("cls_name");a&&v(a);var s=t.get("chap_name");s&&I(s)}),[]),Object(a.useEffect)((function(){ne(),h&&M?X():H({enabled:!0,alert:"Please Provide Class and subject"})}),[h,M]),Object(a.useEffect)((function(){ne()}),[w]);var Y=function(){i({enabled:!0,alert:"Loading..."}),C.a.get("".concat(t,"api/mpeg/getClasses")).then((function(e){j(e.data.data),i({enabled:!1,alert:""})})).catch((function(e){i({enabled:!0,alert:"Error"})}))},Q=function(){z({enabled:!0,alert:"Loading..."}),C.a.get("".concat(t,"api/mpeg/getSubject")).then((function(e){T(e.data.data),z({enabled:!1,alert:""})})).catch((function(e){z({enabled:!0,alert:"Error"})}))},X=function(){H({enabled:!0,alert:"Loading..."}),C.a.get("".concat(t,"api/mpeg/getChapter"),{params:{cls:h,sub:M}}).then((function(e){J(e.data.data),e.data.data.length?H({enabled:!1,alert:""}):H({enabled:!0,alert:"No data Available"})})).catch((function(e){H({enabled:!0,alert:"Error"})}))},Z=function(e){O(e.id),v("Class ".concat(e.className))},$=function(e){U(e.id)},ee=function(e,t){I(t.chapterName),te(e,"chapter_highlight"),null!=t.contentID&&(je(t.contentID),Oe(t.chapterName),ie(!0))},te=function(e,t){var c=e.target;document.querySelectorAll("."+t).forEach((function(e){e.classList.remove(t)})),c.classList.add(t)},ce=function(){document.body.classList.add("body-blue")},ne=function(){e.history.push("/home?cls=".concat(h,"&sub=").concat(M,"&cls_name=").concat(p,"&chap_name=").concat(w))},ae=Object(a.useState)(!1),se=Object(x.a)(ae,2),le=se[0],ie=se[1],re=Object(a.useState)(null),oe=Object(x.a)(re,2),de=oe[0],je=oe[1],ue=Object(a.useState)(null),be=Object(x.a)(ue,2),he=be[0],Oe=be[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(_,{chapter:he,show:le,contentID:de,onhide:function(){ie(!1),je(null),Oe(null)}}),Object(n.jsx)(g,{selected_class:p,selected_chapter:w}),Object(n.jsx)(y,{my_class:d.map((function(e,t){return Object(n.jsxs)("li",{className:"list-group-item",onClick:function(){Z(e)},children:["Class ",e.className]},t)})),loading_class:l,my_subject:A.map((function(e,t){return Object(n.jsx)("li",{className:"list-group-item",onClick:function(){$(e)},children:e.subjectName},t)})),loading_subject:D,my_chapter:W.map((function(e,t){return Object(n.jsx)("li",{className:"list-group-item",onClick:function(t){ee(t,e)},children:e.chapterName},t)})),loading_chapter:V})]})}c(163);var I=c(196),k=c(198);c(164);function L(){return Object(a.useEffect)((function(){})),Object(n.jsxs)(I.a,{bg:"light",expand:"lg",className:"Menubar",children:[Object(n.jsx)(I.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsx)(I.a.Collapse,{id:"basic-navbar-nav",children:Object(n.jsxs)(k.a,{className:"mr-auto",children:[Object(n.jsx)(k.a.Link,{href:"#admin",children:"Home"}),Object(n.jsx)(k.a.Link,{href:"#admin/upload",children:"Upload"}),Object(n.jsx)(k.a.Link,{href:"#admin/conversion",children:"Conversion"}),Object(n.jsx)(k.a.Link,{href:"#admin/addclsnsub",children:"Class-Subs"}),Object(n.jsx)(k.a.Link,{href:"#admin/addchap",children:"Chapters"})]})})]})}function D(){Object(a.useEffect)((function(){e()}));var e=function(){document.body.classList.remove("body-blue"),document.body.classList.add("body-white")};return Object(n.jsx)("div",{className:"C_Admin",children:Object(n.jsx)(L,{})})}var z=c(11),R=c(199),E=c(197),A=c(200),T=c(97);c(166),c(167);function F(){return Object(n.jsx)("div",{className:"C_Loading",children:Object(n.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:Object(n.jsx)("g",{transform:"translate(50 50)",children:Object(n.jsxs)("g",{children:[Object(n.jsx)("animateTransform",{attributeName:"transform",type:"rotate",values:"0;45",keyTimes:"0;1",dur:"0.2s",repeatCount:"indefinite"}),Object(n.jsx)("path",{d:"M29.491524206117255 -5.5 L37.491524206117255 -5.5 L37.491524206117255 5.5 L29.491524206117255 5.5 A30 30 0 0 1 24.742744050198738 16.964569457146712 L24.742744050198738 16.964569457146712 L30.399598299691117 22.621423706639092 L22.621423706639096 30.399598299691114 L16.964569457146716 24.742744050198734 A30 30 0 0 1 5.5 29.491524206117255 L5.5 29.491524206117255 L5.5 37.491524206117255 L-5.499999999999997 37.491524206117255 L-5.499999999999997 29.491524206117255 A30 30 0 0 1 -16.964569457146705 24.742744050198738 L-16.964569457146705 24.742744050198738 L-22.621423706639085 30.399598299691117 L-30.399598299691117 22.621423706639092 L-24.742744050198738 16.964569457146712 A30 30 0 0 1 -29.491524206117255 5.500000000000009 L-29.491524206117255 5.500000000000009 L-37.491524206117255 5.50000000000001 L-37.491524206117255 -5.500000000000001 L-29.491524206117255 -5.500000000000002 A30 30 0 0 1 -24.742744050198738 -16.964569457146705 L-24.742744050198738 -16.964569457146705 L-30.399598299691117 -22.621423706639085 L-22.621423706639092 -30.399598299691117 L-16.964569457146712 -24.742744050198738 A30 30 0 0 1 -5.500000000000011 -29.491524206117255 L-5.500000000000011 -29.491524206117255 L-5.500000000000012 -37.491524206117255 L5.499999999999998 -37.491524206117255 L5.5 -29.491524206117255 A30 30 0 0 1 16.964569457146702 -24.74274405019874 L16.964569457146702 -24.74274405019874 L22.62142370663908 -30.39959829969112 L30.399598299691117 -22.6214237066391 L24.742744050198738 -16.964569457146716 A30 30 0 0 1 29.491524206117255 -5.500000000000013 M0 -20A20 20 0 1 0 0 20 A20 20 0 1 0 0 -20",fill:"#85a2b6"})]})})})})}function P(){var e=window.ffmpeg_baseurl,t=Object(a.useState)(!1),c=Object(x.a)(t,2),s=c[0],l=c[1],i=Object(a.useState)(""),r=Object(x.a)(i,2),o=r[0],d=r[1],j=Object(a.useState)(""),u=Object(x.a)(j,2),b=u[0],p=u[1],g=Object(a.useState)(""),v=Object(x.a)(g,2),y=v[0],N=v[1],S=Object(a.useState)(""),_=Object(x.a)(S,2),w=_[0],I=_[1],k=Object(a.useState)(null),L=Object(x.a)(k,2),D=L[0],P=L[1],M=Object(a.useState)(""),U=Object(x.a)(M,2),q=U[0],B=U[1],V=Object(a.useState)(0),H=Object(x.a)(V,2),K=H[0],G=H[1],W=Object(a.useState)(null),J=Object(x.a)(W,2),Y=J[0],Q=J[1],X=Object(a.useState)(!1),Z=Object(x.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.useRef)();Object(a.useEffect)((function(){N("Select any MP4 file"),le()}),[]);var ce=Object(a.useCallback)((function(e){if(e.length){var t=e[0],c=t.size,n=t.type,a=t.name;"video"!=n.split("/")[0]?(I("Please select video file"),N("Select any MP4 file")):(document.getElementById("content_file").removeAttribute("required"),I("Size: "+ie(c)),N(a),P(e[0]))}}),[]),ne=Object(T.a)({onDrop:ce,multiple:!1}),ae=ne.getRootProps,se=ne.getInputProps,le=(ne.isDragActive,function(){l(!0),C.a.get("".concat(e,"api/mpeg/UniquID")).then((function(e){p(e.data.Id),l(!1)})).catch((function(e){d("Error load unique ID"),l(!1)}))}),ie=function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]},re=function(){setTimeout((function(){le(),I(""),N("Select any MP4 file"),P(null),G(0),te.current.value="",document.querySelector("#content_file").value="",document.getElementById("content_file").setAttribute("required",""),ee(!1),Q(null)}),1e3,!0)};return Object(n.jsx)(h.a,{fluid:!0,className:"C_Upload",children:Object(n.jsx)(O.a,{className:"h-100 m-0",children:Object(n.jsx)(f.a,{className:"col-md-8 col-lg-6 pt-3",children:Object(n.jsxs)(R.a,{children:[Object(n.jsxs)(R.a.Header,{children:["Upload File ",Object(n.jsx)("span",{className:"loading-error",children:o}),s?Object(n.jsx)(F,{}):null]}),Object(n.jsx)(R.a.Body,{children:Object(n.jsxs)(E.a,{noValidate:!0,validated:$,onSubmit:function(t){if(d(""),l(!0),t.preventDefault(),t.stopPropagation(),!1===t.currentTarget.checkValidity())d("Please provide all field"),l(!1);else{console.log("Ready for upload to server");var c=new FormData;c.append("body",D),c.append("uid",b),c.append("file_name",y),c.append("file_title",q);var n=C.a.CancelToken.source();Q(n);var a={headers:{"content-type":"multipart/form-data"},cancelToken:n.token,onUploadProgress:function(e){!function(e){var t=Math.round(100*e.loaded/e.total);G(t)}(e)}};C.a.post("".concat(e,"api/Mpeg/UploadFile"),c,a).then((function(e){d("File uploaded successfully."),l(!1),re(),console.log("File uploaded successfully.")})).catch((function(e){d("Error post data"),l(!1)}))}ee(!0)},children:[Object(n.jsxs)(E.a.Group,{controlId:"Unique_ID",children:[Object(n.jsx)(E.a.Label,{children:"Unique ID"}),Object(n.jsx)(E.a.Control,{type:"text",defaultValue:b,placeholder:"Unique ID",required:!0,readOnly:!0}),Object(n.jsx)(E.a.Control.Feedback,{children:"Looks good!"})]}),Object(n.jsxs)(E.a.Group,{controlId:"File_Title",children:[Object(n.jsx)(E.a.Label,{children:"File Title"}),Object(n.jsx)(E.a.Control,{type:"text",autoComplete:"off",placeholder:"File title",required:!0,defaultValue:q,onChange:function(e){B(e.target.value)},ref:te}),Object(n.jsx)(E.a.Control.Feedback,{children:"Looks good!"})]}),Object(n.jsxs)(E.a.Group,{className:"mb-0",children:[Object(n.jsx)(E.a.Label,{children:"Choose File"}),Object(n.jsxs)(E.a.File,{name:"content_file",id:"content_file",custom:!0,children:[Object(n.jsx)(E.a.File.Input,{required:!0,onChange:function(e){if(e.currentTarget.files&&e.currentTarget.files.length){var t=e.currentTarget.files[0],c=t.size,n=t.type,a=t.name;"video"!=n.split("/")[0]?(I("Please select video file"),N("Select any MP4 file")):(I("Size: "+ie(c)),N(a),P(e.currentTarget.files[0]))}}}),Object(n.jsx)(E.a.File.Label,{"data-browse":"Browse File",children:y}),Object(n.jsx)(E.a.Text,{className:"text-muted",children:w})]}),Object(n.jsx)(A.a,{variant:"success",animated:!0,now:K})]}),Object(n.jsx)(E.a.Group,{className:"dragdrop-frm-group",children:Object(n.jsxs)("div",Object(z.a)(Object(z.a)({},ae()),{},{children:[Object(n.jsx)("input",Object(z.a)({id:"content_file_drop"},se())),Object(n.jsx)("p",{children:"Drag 'n' drop some file here, or click to select files"})]}))}),Object(n.jsxs)(m.b,{type:"submit",color:"indigo",size:"sm",children:[Object(n.jsx)(m.d,{far:!0,icon:"save",size:"lg"}),"\xa0\xa0Submit"]}),Object(n.jsxs)(m.b,{type:"button",color:"indigo",size:"sm",onClick:function(){null!=Y&&(Y.cancel(),re())},children:[Object(n.jsx)(m.d,{icon:"ban"}),"\xa0\xa0Cancel Upload"]})]})})]})})})})}var M=c(98),U=c(202),q=c(192),B=c(193),V=c(93),H=c(195),K=c(194),G=c(94),W=(c(168),c(35)),J=(c(169),c(201));function Y(e){var t=e.show,c=e.list,a=e.onhide,s=e.hide_visible;return t&&Object(n.jsxs)(h.a,{fluid:!0,className:"C_Modal",children:[Object(n.jsx)(f.a,{className:"text-center py-3",children:s&&Object(n.jsx)(G.a,{onClick:a,variant:"dark",children:"Close"})}),Object(n.jsx)(J.a,{children:c.map((function(e,t){return Object(n.jsx)(J.a.Item,{children:e},t)}))})]})}c(170);function Q(e){var t=e.onhide,c=e.data,s=window.ffmpeg_baseurl,l=Object(a.useState)(!1),i=Object(x.a)(l,2),r=i[0],o=i[1],d=Object(a.useState)(""),j=Object(x.a)(d,2),u=j[0],b=j[1],p=Object(a.useState)(!1),g=Object(x.a)(p,2),v=g[0],y=g[1],N=Object(a.useRef)(null);Object(a.useEffect)((function(){if("add"==c.e)ee(),q(),ue();else if("edit"==c.e){var e=c.data,t=e.id,n=e.chapterName,a=e.classId,s=e.subjectId,l=e.contentID;N.current.value=t,S.current.value=n,ee(a),q(s),ue(l)}else c.e}),[]);var S=Object(a.useRef)(null),_=Object(a.useState)(null),w=Object(x.a)(_,2),I=w[0],k=w[1],L=Object(a.useRef)(null),D=Object(a.useRef)(!1),A=function(e){be(e,L,D)},T=Object(a.useState)([]),P=Object(x.a)(T,2),M=P[0],U=P[1],q=function(e){o(!0),b("Loading..."),C.a.get("".concat(s,"api/mpeg/getSubject")).then((function(t){o(!1),b("");var c=t.data.data.map((function(e){return{value:e.id,label:e.subjectName}}));U(c);var n=c.find((function(t){return t.value==e}));k(n)})).catch((function(e){o(!1),b("Error loading Subject")}))},B=Object(a.useState)(null),V=Object(x.a)(B,2),H=V[0],K=V[1],G=Object(a.useRef)(null),J=Object(a.useRef)(!1),Y=function(e){be(e,G,J)},Q=Object(a.useState)([]),X=Object(x.a)(Q,2),Z=X[0],$=X[1],ee=function(e){o(!0),b("Loading..."),C.a.get("".concat(s,"api/mpeg/getClasses")).then((function(t){o(!1),b("");var c=t.data.data.map((function(e){return{value:e.id,label:e.className}}));$(c);var n=c.find((function(t){return t.value==e}));K(n)})).catch((function(e){o(!1),b("Error loading Class")}))},te=Object(a.useState)(null),ce=Object(x.a)(te,2),ne=ce[0],ae=ce[1],se=Object(a.useRef)(null),le=Object(a.useRef)(!1),ie=function(e){be(e,se,le)},re=Object(a.useState)([]),oe=Object(x.a)(re,2),de=oe[0],je=oe[1],ue=function(e){o(!0),b("Loading...");var t={_id:e};C.a.get("".concat(s,"api/mpeg/getContent"),{params:t}).then((function(t){o(!1),b("");var c=t.data.data.map((function(e){var t=e.contentID;return{value:t,label:t}}));c.unshift({value:null,label:"None"}),je(c);var n=c.find((function(t){return t.value==e}));ae(n)})).catch((function(e){o(!1),b("Error loading Class")}))},be=function(e,t,c){if(t.current){var n=t.current.select.controlRef;if(n)if(c.current=!0,null==e)n.style.borderColor="#dc3545";else{n.style.borderColor="#28a745";var a=n.parentNode.nextSibling;a&&a.classList.contains("valid-feedback")&&(a.style.display="block")}}};return Object(n.jsx)(h.a,{fluid:!0,className:"C_AddChap_Add",children:Object(n.jsx)(O.a,{children:Object(n.jsx)(f.a,{className:"col-md-8 col-lg-6 pt-3 mx-auto",children:Object(n.jsxs)(R.a,{children:[Object(n.jsxs)(R.a.Header,{children:["Add chapter ",Object(n.jsx)("span",{className:"loading-error",children:u}),r?Object(n.jsx)(F,{}):null]}),Object(n.jsx)(R.a.Body,{children:Object(n.jsxs)(E.a,{noValidate:!0,validated:v,onSubmit:function(e){if(b(""),o(!0),e.preventDefault(),e.stopPropagation(),!1===e.currentTarget.checkValidity()||null==I||null==H)b("Please provide all field"),o(!1);else{var n={id:N.current.value,chapterName:S.current.value,subjectId:null!=I?I.value:null,classId:null!=H?H.value:null,contentID:null!=ne?ne.value:null},a=null,l=null;if("add"!=c.e&&"attach"!=c.e||(a=Object(z.a)({},n),l="".concat(s,"api/mpeg/AddChapter")),"edit"==c.e&&(a=Object(z.a)({},n),l="".concat(s,"api/mpeg/PutChapter")),null==l||null==a)return;C.a.post(l,a,{headers:{"content-type":"application/json"}}).then((function(e){b(e.data.data),o(!1),t()})).catch((function(e){o(!1),setError_Cls("Error to save data")}))}y(!0),A(I),Y(H)},children:[Object(n.jsx)("input",{type:"hidden",ref:N}),Object(n.jsxs)(E.a.Group,{controlId:"chapterName",children:[Object(n.jsx)(E.a.Label,{children:"Chapter Name"}),Object(n.jsx)(E.a.Control,{type:"text",defaultValue:"",ref:S,placeholder:"Chapter Name",required:!0}),Object(n.jsx)(E.a.Control.Feedback,{children:"Looks good!"})]}),Object(n.jsxs)(E.a.Group,{controlId:"subject",children:[Object(n.jsx)(E.a.Label,{children:"Subject"}),Object(n.jsx)(W.a,{value:I,options:M,onChange:function(e){k(e),D.current&&A(e)},ref:L}),Object(n.jsx)(E.a.Control.Feedback,{children:"Looks good!"})]}),Object(n.jsxs)(E.a.Group,{controlId:"class",children:[Object(n.jsx)(E.a.Label,{children:"Class"}),Object(n.jsx)(W.a,{value:H,options:Z,onChange:function(e){K(e),J.current&&Y(e)},ref:G}),Object(n.jsx)(E.a.Control.Feedback,{children:"Looks good!"})]}),Object(n.jsxs)(E.a.Group,{controlId:"contentID",children:[Object(n.jsx)(E.a.Label,{children:"content ID"}),Object(n.jsx)(W.a,{value:ne,options:de,onChange:function(e){ae(e),le.current&&ie(e)},ref:se}),Object(n.jsx)(E.a.Control.Feedback,{children:"Looks good!"})]}),Object(n.jsxs)(m.b,{type:"submit",color:"indigo",size:"sm",children:[Object(n.jsx)(m.d,{far:!0,icon:"save",size:"lg"}),"\xa0\xa0Submit"]}),Object(n.jsxs)(m.b,{type:"submit",color:"indigo",size:"sm",onClick:t,children:[Object(n.jsx)(m.d,{icon:"times-circle",size:"lg"}),"\xa0\xa0Close"]})]})})]})})})})}function X(e){var t=window.ffmpeg_baseurl,c=Object(a.useState)(!1),s=Object(x.a)(c,2),l=s[0],i=s[1],r=Object(a.useState)(""),o=Object(x.a)(r,2),d=o[0],j=o[1],u=Object(a.useState)([]),b=Object(x.a)(u,2),m=b[0],p=b[1],g=Object(a.useState)(null),v=Object(x.a)(g,2),y=v[0],N=v[1],S=Object(a.useRef)(null),w=Object(a.useRef)(null),I=Object(a.useRef)(null),k=Object(a.useRef)(null),L=Object(a.useRef)(null),D=Object(a.useState)([]),R=Object(x.a)(D,2),E=R[0],A=R[1],T=Object(a.useState)(!1),P=Object(x.a)(T,2),J=P[0],X=P[1],Z=Object(a.useState)(!1),$=Object(x.a)(Z,2),ee=$[0],te=$[1],ce=Object(a.useState)([]),ne=Object(x.a)(ce,2),ae=ne[0],se=ne[1],le=Object(a.useState)({pageindex:0,limit:5}),ie=Object(x.a)(le,2),re=ie[0],oe=ie[1],de=Object(a.useState)(!1),je=Object(x.a)(de,2),ue=je[0],be=je[1],he=Object(a.useState)(null),Oe=Object(x.a)(he,2),fe=Oe[0],me=Oe[1],pe=Object(a.useState)(!1),xe=Object(x.a)(pe,2),ge=xe[0],ve=xe[1],ye=Object(a.useState)({}),Ne=Object(x.a)(ye,2),Ce=Ne[0];Ne[1];Object(a.useEffect)((function(){Se(re),N({value:"5",label:"5"})}),[]);var Se=function(e){i(!0),j("Loading..."),C.a.get("".concat(t,"api/mpeg/getContentPage"),{params:e}).then((function(e){p(e.data.data);for(var t=e.data,c=t.pageindex,a=t.totalPage,s=[],l=function(e){s.push(Object(n.jsx)(U.a.Item,{onClick:function(){_e(e)},active:e==c,children:e+1},e))},r=0;r<a;r++)l(r);se(s),i(!1),j("")})).catch((function(e){i(!1),j("Error loading Content")}))},_e=function(e){oe((function(t){var c=Object(z.a)(Object(z.a)({},t),{},{pageindex:e});return Se(c),c}))},we=function(e){clearTimeout(w.current),w.current=setTimeout((function(){e()}),1e3)},Ie=function(e,t){oe((function(c){var n=Object(z.a)(Object(z.a)({},c),{},{orderby:e,desc:t});return Se(n),n}))},ke=function(e,t){null!=e?"string"===typeof e&&A(t?[e]:function(t){return[e].concat(Object(M.a)(t))}):A([])},Le=function(e,c){var n=e.contentID,a=e.contentFileName;"start"===c?(X(!0),C.a.get("".concat(t,"api/mpeg/MediaInfo/").concat(n),{params:{fname:a}}).then((function(e){var t=e.data,c=t.duration,s=t.fps,l=t.frame;if("undefined"===typeof c)return ke("Video not exist!",!1),void te(!0);ke("Ready for Conversion...",!1),ke("Video duration ".concat(c,", fps ").concat(s," and frame ").concat(l),!1),De(n,(function(){ze(n,a),Re(n,e.data)}))})).catch((function(e){console.log(e),ke(e,!1),te(!0)}))):"progress"===c?(X(!0),C.a.get("".concat(t,"api/mpeg/MediaInfo/").concat(n),{params:{fname:a}}).then((function(e){var t=e.data,c=t.duration,a=t.fps,s=t.frame;if("undefined"===typeof c)return ke("Video not exist!",!1),void te(!0);ke("Video duration ".concat(c,", fps ").concat(a," and frame ").concat(s),!1),Re(n,e.data)})).catch((function(e){console.log(e),ke(e,!1),te(!0)}))):"restore"===c?(X(!0),Ae(n)):"remove"===c?(X(!0),Fe(n)):"delete"===c?confirm("are you sure to delete "+n)&&Te(n):"play"===c&&(me(n),be(!0))},De=function(e,c){ke("Ready for generate key file...",!1);var n={Id:e};C.a.post("".concat(t,"api/mpeg/CreateKey"),n,{headers:{"content-type":"application/json"}}).then((function(e){ke("key generated successfully",!1),c()})).catch((function(e){console.log(e),ke(e,!1),te(!0)}))},ze=function(e,c){ke("Ready for encryption...",!1),C.a.get("".concat(t,"api/mpeg/Conversion/").concat(e),{params:{fname:c}}).then((function(e){ke("video file encrypted successfully...",!1)})).catch((function(e){console.log(e),ke(e,!1),te(!0)}))},Re=function(e,c){var n=c.frame;ke("keep watching the encryption progress...",!1),S.current=setInterval((function(){C.a.get("".concat(t,"api/mpeg/ConversionProgressInfo/").concat(e),{params:{}}).then((function(t){var c=t.data,a=c.status,s=c.currentFrame;if("continue"===a){var l=parseInt(s/n*100);ke("encryption progress ".concat(l,"%"),!1)}else"end"===a&&(ke("encryption progress 100% completed",!1),Ee(e,(function(){clearInterval(S.current),te(!0)})))})).catch((function(e){console.log(e),clearInterval(S.current),ke(e,!1),te(!0)}))}),1e4)},Ee=function(e,c){var n={Id:e};C.a.post("".concat(t,"api/mpeg/ConversionEnded"),n,{headers:{"content-type":"application/json"}}).then((function(e){ke(e.data.data,!1),c()})).catch((function(e){console.log(e),ke(e,!1),te(!0)}))},Ae=function(e){var c={Id:e};C.a.post("".concat(t,"api/mpeg/RestoreKey2SD"),c,{headers:{"content-type":"application/json"}}).then((function(e){ke(e.data.data,!1),te(!0)})).catch((function(e){console.log(e),ke(e,!1),te(!0)}))},Te=function(e){i(!0);var c={Id:e};C.a.post("".concat(t,"api/mpeg/Deletecontent"),c,{headers:{"content-type":"application/json"}}).then((function(e){i(!1),Se(re)})).catch((function(e){j("Error"),i(!1),Se(re)}))},Fe=function(e){var c={Id:e};C.a.post("".concat(t,"api/mpeg/RemoveKeyFromSD"),c,{headers:{"content-type":"application/json"}}).then((function(e){ke(e.data.data,!1),te(!0)})).catch((function(e){console.log(e),ke(e,!1),te(!0)}))};return Object(n.jsxs)(h.a,{fluid:!0,className:"C_Conversion",children:[Object(n.jsx)(_,{show:ue,contentID:fe,onhide:function(){be(!1)}}),Object(n.jsx)(Y,{show:J,list:E,onhide:function(){ke(null,!0),X(!1),te(!1),Se(re)},hide_visible:ee}),Object(n.jsx)(O.a,{children:ge?Object(n.jsx)(Q,{onhide:function(){ve(!1)},data:Ce}):null}),Object(n.jsxs)(O.a,{className:"h-100 m-0",children:[Object(n.jsxs)(f.a,{className:"col-12 pt-3",children:[Object(n.jsx)("span",{className:"loading-error",children:d}),l?Object(n.jsx)(F,{}):null]}),Object(n.jsx)(f.a,{className:"col-12 pt-3",children:Object(n.jsxs)(q.a,{striped:!0,bordered:!0,hover:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Content ID",Object(n.jsx)(B.a,{size:"sm",className:"",children:Object(n.jsx)(V.a,{placeholder:"Search by ID","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){var t;t=e.target.value,k.current.value="",L.current.value="",we((function(){oe((function(e){var c=Object(z.a)(Object(z.a)({},e),{},{contentID:t,pageindex:0});return delete c.contentTitle,delete c.contentFileName,Se(c),c}))}))},ref:I})})]})}),Object(n.jsx)("th",{children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Content Title",Object(n.jsx)(B.a,{size:"sm",className:"",children:Object(n.jsx)(V.a,{placeholder:"Search by Title","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){var t;t=e.target.value,I.current.value="",L.current.value="",we((function(){oe((function(e){var c=Object(z.a)(Object(z.a)({},e),{},{contentTitle:t,pageindex:0});return delete c.contentID,delete c.contentFileName,Se(c),c}))}))},ref:k})})]})}),Object(n.jsx)("th",{children:Object(n.jsxs)("div",{className:"td-filter-box",children:["File Name",Object(n.jsx)(B.a,{size:"sm",className:"",children:Object(n.jsx)(V.a,{placeholder:"Search by File Name","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){var t;t=e.target.value,I.current.value="",k.current.value="",we((function(){oe((function(e){var c=Object(z.a)(Object(z.a)({},e),{},{contentFileName:t,pageindex:0});return delete c.contentID,delete c.contentTitle,Se(c),c}))}))},ref:L})})]})}),Object(n.jsx)("th",{children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Action",Object(n.jsxs)(H.a,{children:[Object(n.jsx)(H.a.Toggle,{size:"sm",variant:"light",id:"dropdown-basic",children:"Sort By \xa0\xa0"}),Object(n.jsxs)(H.a.Menu,{children:[Object(n.jsx)(H.a.Item,{href:"#",children:Object(n.jsxs)(K.a,{size:"sm",children:[Object(n.jsx)(G.a,{style:{marginRight:".7rem"},onClick:function(){Ie("contentID","false")},children:"ID"}),Object(n.jsx)(G.a,{onClick:function(){Ie("contentID","true")},children:"Desc"})]})}),Object(n.jsx)(H.a.Item,{href:"#",children:Object(n.jsxs)(K.a,{size:"sm",children:[Object(n.jsx)(G.a,{style:{marginRight:".7rem"},onClick:function(){Ie("contentTitle","false")},children:"Title"}),Object(n.jsx)(G.a,{onClick:function(){Ie("contentTitle","true")},children:"Desc"})]})}),Object(n.jsx)(H.a.Item,{href:"#",children:Object(n.jsxs)(K.a,{size:"sm",children:[Object(n.jsx)(G.a,{style:{marginRight:".7rem"},onClick:function(){Ie("contentFileName","false")},children:"File Name"}),Object(n.jsx)(G.a,{onClick:function(){Ie("contentFileName","true")},children:"Desc"})]})})]})]})]})})]})}),Object(n.jsx)("tbody",{children:m.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.contentID}),Object(n.jsx)("td",{children:e.contentTitle}),Object(n.jsx)("td",{children:e.contentFileName}),Object(n.jsx)("td",{className:"action-box",children:"0"==e.IsConversion?Object(n.jsxs)("span",{children:[Object(n.jsx)(G.a,{variant:"outline-info",size:"sm",className:"mr-1 mb-1",onClick:function(){return Le(e,"start")},children:"Start"}),Object(n.jsx)(G.a,{variant:"outline-danger",size:"sm",className:"mb-1",onClick:function(){return Le(e,"delete")},children:"Delete"})]}):"1"==e.IsConversion?Object(n.jsx)(G.a,{variant:"outline-info",size:"sm",onClick:function(){return Le(e,"progress")},children:"Progress"}):Object(n.jsxs)("span",{children:[Object(n.jsxs)(H.a,{children:[Object(n.jsx)(H.a.Toggle,{variant:"info",size:"sm",id:"dropdown-content",className:"mr-1 mb-1",children:"Content \xa0"}),Object(n.jsxs)(H.a.Menu,{children:[Object(n.jsx)(H.a.Item,{onClick:function(){return Le(e,"play")},children:"Play"}),Object(n.jsx)(H.a.Item,{className:"danger",onClick:function(){return Le(e,"delete")},children:"Delete"})]})]}),Object(n.jsxs)(H.a,{children:[Object(n.jsx)(H.a.Toggle,{variant:"info",size:"sm",id:"dropdown-key",className:"mb-1",children:"Key \xa0"}),Object(n.jsxs)(H.a.Menu,{children:[Object(n.jsx)(H.a.Item,{onClick:function(){return Le(e,"restore")},children:"Restore to device"}),Object(n.jsx)(H.a.Item,{className:"danger",onClick:function(){return Le(e,"remove")},children:"Remove from device"})]})]})]})})]},t)}))})]})}),Object(n.jsx)(f.a,{className:"col-4 pt-3",children:Object(n.jsx)("table",{className:"lmt",children:Object(n.jsx)("tbody",{children:Object(n.jsx)("tr",{children:Object(n.jsxs)("td",{children:[Object(n.jsx)("div",{className:"y",children:" Limit: "}),Object(n.jsx)(W.a,{value:y,className:"x",options:[{value:"5",label:"5"},{value:"10",label:"10"},{value:"50",label:"50"},{value:"100",label:"100"}],onChange:function(e){N(e),oe((function(t){var c=Object(z.a)(Object(z.a)({},t),{},{limit:e.value,pageindex:0});return Se(c),c}))}})]})})})})}),Object(n.jsx)(f.a,{className:"col-8 pt-3 pagination-wrapper",children:Object(n.jsx)(U.a,{size:"sm",children:ae})})]})]})}c(180);function Z(){var e=window.ffmpeg_baseurl,t=Object(a.useState)(!1),c=Object(x.a)(t,2),s=c[0],l=c[1],i=Object(a.useState)(""),r=Object(x.a)(i,2),o=r[0],d=r[1],j=Object(a.useState)([]),u=Object(x.a)(j,2),b=u[0],p=u[1],g=Object(a.useRef)(null),v=Object(a.useRef)(null),y=Object(a.useState)(!1),N=Object(x.a)(y,2),S=N[0],_=N[1],w=Object(a.useRef)(null),I=Object(a.useRef)(null),k=Object(a.useState)(!1),L=Object(x.a)(k,2),D=L[0],z=L[1],R=Object(a.useState)(""),A=Object(x.a)(R,2),T=A[0],P=A[1],M=Object(a.useState)([]),U=Object(x.a)(M,2),B=U[0],V=U[1],H=Object(a.useRef)(null),K=Object(a.useRef)(null),G=Object(a.useState)(!1),W=Object(x.a)(G,2),J=W[0],Y=W[1],Q=Object(a.useRef)(null),X=Object(a.useRef)(null);Object(a.useEffect)((function(){Z(),$()}),[]);var Z=function(){l(!0),C.a.get("".concat(e,"api/mpeg/getClasses")).then((function(e){p(e.data.data),ne("cls"),l(!1),d("")})).catch((function(e){l(!1),d("Error loading Class")}))},$=function(){z(!0),P("Loading..."),C.a.get("".concat(e,"api/mpeg/getSubject")).then((function(e){V(e.data.data),ne("sub"),z(!1),P("")})).catch((function(e){z(!1),P("Error loading Subject")}))},ee=function(t){var c=t.name,n=t.id,a=t.e;l(!0);var s=null,i=null;"update_cls"===a?(s={name:c,id:n},i="".concat(e,"api/mpeg/PutClass")):"add_cls"===a?(s={name:c},i="".concat(e,"api/mpeg/AddClass")):"delete_cls"===a&&(s={id:n},i="".concat(e,"api/mpeg/RemoveClass")),null!=i&&null!=s&&C.a.post(i,s,{headers:{"content-type":"application/json"}}).then((function(e){d(e.data.data),Z()})).catch((function(e){d("Error to save data")}))},te=function(t){var c=t.name,n=t.id,a=t.e;z(!0);var s=null,l=null;"update_sub"===a?(s={name:c,id:n},l="".concat(e,"api/mpeg/PutSubject")):"add_sub"===a?(s={name:c},l="".concat(e,"api/mpeg/AddSubject")):"delete_sub"===a&&(s={id:n},l="".concat(e,"api/mpeg/RemoveSubject")),null!=l&&null!=s&&C.a.post(l,s,{headers:{"content-type":"application/json"}}).then((function(e){P(e.data.data),$()})).catch((function(e){P("Error to save data")}))},ce=function(e,t){var c=e.id,n=e.className,a=e.subjectName;if("edit_cls"===t)I.current.value=c,w.current.value=n,_(!0),ae(c);else if("update_cls"===t){if(""==w.current.value)return;if(""==I.current.value)return;ee({name:w.current.value,id:I.current.value,e:t}),setTimeout((function(){I.current.value="",w.current.value="",_(!1),ae(null)}),200)}else if("delete_cls"===t){if(""==c)return;ee({id:c,e:t})}else if("add_cls"===t){if(""==w.current.value)return;ee({name:w.current.value,e:t}),setTimeout((function(){w.current.value=""}),200)}else if("edit_sub"===t)X.current.value=c,Q.current.value=a,Y(!0),se(c);else if("update_sub"===t){if(""==Q.current.value)return;if(""==X.current.value)return;te({name:Q.current.value,id:X.current.value,e:t}),setTimeout((function(){X.current.value="",Q.current.value="",Y(!1),ae(null),se(null)}),200)}else if("delete_sub"===t){if(""==c)return;te({id:c,e:t})}else if("add_sub"===t){if(""==Q.current.value)return;te({name:Q.current.value,e:t}),setTimeout((function(){Q.current.value=""}),200)}},ne=function(e){if("cls"===e){if("undefined"===typeof g.current)return;var t=parseInt(g.current.clientHeight),c=parseInt(g.current.parentElement.clientHeight);if("undefined"===typeof v.current)return;v.current.style.borderRight=t>c?".9rem solid #cecece":"0rem solid #cecece"}else if("sub"===e){if("undefined"===typeof H.current)return;var n=parseInt(H.current.clientHeight),a=parseInt(H.current.parentElement.clientHeight);if("undefined"===typeof v.current)return;K.current.style.borderRight=n>a?".9rem solid #cecece":"0rem solid #cecece"}},ae=function(e){document.querySelectorAll(".tr_cls").forEach((function(e){e.classList.remove("active")})),e&&document.querySelector(".tr_cls_"+e).classList.add("active")},se=function(e){document.querySelectorAll(".tr_sub").forEach((function(e){e.classList.remove("active")})),e&&document.querySelector(".tr_sub_"+e).classList.add("active")};return Object(n.jsx)(h.a,{fluid:!0,className:"C_AddCsub",children:Object(n.jsxs)(O.a,{className:"h-100 m-0",children:[Object(n.jsxs)(f.a,{className:"col-sm-12 col-md-10 col-lg-6 pt-3 mx-auto",children:[Object(n.jsx)(q.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",ref:v,children:Object(n.jsxs)("thead",{children:[Object(n.jsx)("tr",{children:Object(n.jsxs)("th",{colSpan:"3",children:["Class List",Object(n.jsx)("span",{className:"loading-error",children:o}),s?Object(n.jsx)(F,{}):null]})}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{style:{width:"10%"},children:"#"}),Object(n.jsx)("th",{style:{width:"70%"},children:"Description"}),Object(n.jsx)("th",{style:{width:"20%"},children:"Action"})]})]})}),Object(n.jsx)("div",{className:"tblList-class",children:Object(n.jsx)(q.a,{striped:!0,bordered:!0,hover:!0,ref:g,className:"mb-0",children:Object(n.jsx)("tbody",{children:b.map((function(e,t){return Object(n.jsxs)("tr",{className:"tr_cls tr_cls_"+e.id,children:[Object(n.jsx)("td",{style:{width:"10%"},children:t+1}),Object(n.jsx)("td",{style:{width:"70%"},children:e.className}),Object(n.jsx)("td",{style:{width:"20%"},className:"actions",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{title:"edit Class",className:"btnEdit",type:"button",onClick:function(){return ce(e,"edit_cls")},children:Object(n.jsx)(m.d,{size:"lg",icon:"edit mdb-gallery-view-icon"})}),Object(n.jsx)("button",{title:"Delete Class",className:"btnDelete",type:"button",onClick:function(){return ce(e,"delete_cls")},children:Object(n.jsx)(m.d,{size:"lg",icon:"trash-alt mdb-gallery-view-icon"})})]})})]},t)}))})})}),Object(n.jsx)(E.a,{noValidate:!0,children:Object(n.jsx)(q.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",children:Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{width:"10%"}}),Object(n.jsx)("td",{style:{width:"70%"},className:"py-1",children:Object(n.jsxs)(E.a.Group,{controlId:"Class_Name",className:"my-0",children:[Object(n.jsx)(E.a.Control,{type:"text",autoComplete:"off",placeholder:"Class Name",required:!0,defaultValue:"",ref:w}),Object(n.jsx)(E.a.Control.Feedback,{children:"Looks good!"})]})}),Object(n.jsxs)("td",{className:"actions py-1",style:{width:"20%"},children:[Object(n.jsx)("input",{type:"hidden",ref:I}),S?Object(n.jsxs)(m.b,{size:"sm",onClick:function(){return ce({},"update_cls")},color:"indigo",className:"btnAdd",children:[Object(n.jsx)(m.d,{size:"lg",icon:"save",className:"ml-2"})," Update"]}):Object(n.jsxs)(m.b,{size:"sm",onClick:function(){return ce({},"add_cls")},color:"indigo",className:"btnAdd",children:[Object(n.jsx)(m.d,{size:"lg",icon:"plus-circle mdb-gallery-view-icon",className:"ml-2"})," Add"]})]})]})})})})]}),Object(n.jsxs)(f.a,{className:"col-sm-12 col-md-10 col-lg-6 pt-3 mx-auto Subject",children:[Object(n.jsx)(q.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",ref:K,children:Object(n.jsxs)("thead",{children:[Object(n.jsx)("tr",{children:Object(n.jsxs)("th",{colSpan:"3",children:["Subject List",Object(n.jsx)("span",{className:"loading-error",children:T}),D?Object(n.jsx)(F,{}):null]})}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{style:{width:"10%"},children:"#"}),Object(n.jsx)("th",{style:{width:"70%"},children:"Description"}),Object(n.jsx)("th",{style:{width:"20%"},children:"Action"})]})]})}),Object(n.jsx)("div",{className:"tblList-class",children:Object(n.jsx)(q.a,{striped:!0,bordered:!0,hover:!0,ref:H,className:"mb-0",children:Object(n.jsx)("tbody",{children:B.map((function(e,t){return Object(n.jsxs)("tr",{className:"tr_sub tr_sub_"+e.id,children:[Object(n.jsx)("td",{style:{width:"10%"},children:t+1}),Object(n.jsx)("td",{style:{width:"70%"},children:e.subjectName}),Object(n.jsx)("td",{style:{width:"20%"},className:"actions",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{title:"edit Class",className:"btnEdit",type:"button",onClick:function(){return ce(e,"edit_sub")},children:Object(n.jsx)(m.d,{size:"lg",icon:"edit mdb-gallery-view-icon"})}),Object(n.jsx)("button",{title:"Delete Class",className:"btnDelete",type:"button",onClick:function(){return ce(e,"delete_sub")},children:Object(n.jsx)(m.d,{size:"lg",icon:"trash-alt mdb-gallery-view-icon"})})]})})]},t)}))})})}),Object(n.jsx)(E.a,{noValidate:!0,children:Object(n.jsx)(q.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",children:Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{width:"10%"}}),Object(n.jsx)("td",{style:{width:"70%"},className:"py-1",children:Object(n.jsxs)(E.a.Group,{controlId:"Subject_Name",className:"my-0",children:[Object(n.jsx)(E.a.Control,{type:"text",autoComplete:"off",placeholder:"Subject Name",required:!0,defaultValue:"",ref:Q}),Object(n.jsx)(E.a.Control.Feedback,{children:"Looks good!"})]})}),Object(n.jsxs)("td",{className:"actions py-1",style:{width:"20%"},children:[Object(n.jsx)("input",{type:"hidden",ref:X}),J?Object(n.jsxs)(m.b,{size:"sm",onClick:function(){return ce({},"update_sub")},color:"indigo",className:"btnAdd",children:[Object(n.jsx)(m.d,{size:"lg",icon:"save",className:"ml-2"})," Update"]}):Object(n.jsxs)(m.b,{size:"sm",onClick:function(){return ce({},"add_sub")},color:"indigo",className:"btnAdd",children:[Object(n.jsx)(m.d,{size:"lg",icon:"plus-circle mdb-gallery-view-icon",className:"ml-2"})," Add"]})]})]})})})})]})]})})}c(181);function $(){var e=window.ffmpeg_baseurl,t=Object(a.useState)(!1),c=Object(x.a)(t,2),s=c[0],l=c[1],i=Object(a.useState)(""),r=Object(x.a)(i,2),o=r[0],d=r[1],j=Object(a.useRef)(null),u=Object(a.useState)([]),b=Object(x.a)(u,2),p=b[0],g=b[1],v=Object(a.useState)(null),y=Object(x.a)(v,2),N=y[0],S=y[1],_=Object(a.useRef)(null),w=Object(a.useRef)(null),I=Object(a.useState)([]),k=Object(x.a)(I,2),L=k[0],D=k[1],R=Object(a.useState)({pageindex:0,limit:10}),E=Object(x.a)(R,2),A=E[0],T=E[1],P=Object(a.useState)(!1),M=Object(x.a)(P,2),J=M[0],Y=M[1],X=Object(a.useState)({}),Z=Object(x.a)(X,2),$=Z[0],ee=Z[1];Object(a.useEffect)((function(){te(A),S({value:"10",label:"10"})}),[]);var te=function(t){l(!0),d("Loading..."),C.a.get("".concat(e,"api/mpeg/getChapterFilter"),{params:t}).then((function(e){g(e.data.data);var t=e.data,c=t.pageindex,a=t.totalPage,s=[];parseInt(c)>0&&s.push(Object(n.jsx)(U.a.Item,{onClick:function(){ce(parseInt(c)-1)},children:Object(n.jsx)(m.d,{icon:"angle-double-left",size:"lg"})},"prev"));for(var i=function(e){s.push(Object(n.jsx)(U.a.Item,{onClick:function(){ce(e)},active:e==c,children:parseInt(e)+1},e))},r=0;r<a;r++)i(r);parseInt(c)<parseInt(a)&&s.push(Object(n.jsx)(U.a.Item,{onClick:function(){ce(parseInt(c)+1)},children:Object(n.jsx)(m.d,{icon:"angle-double-right",size:"lg"})},"next")),D(s),l(!1),d("")})).catch((function(e){l(!1),d("Error loading Chapter")}))},ce=function(e){T((function(t){var c=Object(z.a)(Object(z.a)({},t),{},{pageindex:e});return te(c),c}))},ne=function(e,t){T((function(c){var n=Object(z.a)(Object(z.a)({},c),{},{orderby:e,desc:t,pageindex:0});return te(n),n}))},ae=function(e,t){"chap"==t?se((function(){T((function(t){var c=Object(z.a)(Object(z.a)({},t),{},{chapterName:e,pageindex:0});return te(c),c}))})):"cls"==t?se((function(){T((function(t){var c=Object(z.a)(Object(z.a)({},t),{},{className:e,pageindex:0});return te(c),c}))})):"sub"==t?se((function(){T((function(t){var c=Object(z.a)(Object(z.a)({},t),{},{subjectName:e,pageindex:0});return te(c),c}))})):"content_id"==t&&se((function(){T((function(t){var c=Object(z.a)(Object(z.a)({},t),{},{contentID:e,pageindex:0});return te(c),c}))}))},se=function(e){clearTimeout(w.current),w.current=setTimeout((function(){e()}),1e3)},le=function(t,c){if("add_new"==c)ee({e:"add"}),Y(!0);else if("edit"==c)ee({e:"edit",data:t}),Y(!0);else if("remove"==c){if(!confirm("are you sure to delete?"))return;var n={id:t.id},a="".concat(e,"api/mpeg/RemoveChapter");if(null==a||null==n)return;C.a.post(a,n,{headers:{"content-type":"application/json"}}).then((function(e){d(e.data.data),l(!1),te(A)})).catch((function(e){l(!1),setError_Cls("Error to delete data")}))}};return Object(n.jsxs)(h.a,{fluid:!0,className:"C_AddChap",children:[Object(n.jsx)(O.a,{children:J?Object(n.jsx)(Q,{onhide:function(){te(A),Y(!1)},data:$}):null}),Object(n.jsxs)(O.a,{className:"h-100 m-0",children:[Object(n.jsxs)(f.a,{className:"col-12 pt-3",children:[Object(n.jsx)("span",{className:"loading-error",children:o}),s?Object(n.jsx)(F,{}):null]}),Object(n.jsxs)(f.a,{className:"col-12",children:[Object(n.jsx)(q.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",children:Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{style:{width:"30%"},className:"px-1",children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Chapter",Object(n.jsx)(B.a,{size:"sm",className:"",children:Object(n.jsx)(V.a,{placeholder:"Search","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){ae(e.target.value,"chap")},ref:j})})]})}),Object(n.jsx)("th",{style:{width:"10%"},className:"px-1",children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Class",Object(n.jsx)(B.a,{size:"sm",children:Object(n.jsx)(V.a,{placeholder:"Search","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){ae(e.target.value,"cls")},ref:j})})]})}),Object(n.jsx)("th",{style:{width:"15%"},className:"px-1",children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Subject",Object(n.jsx)(B.a,{size:"sm",className:"",children:Object(n.jsx)(V.a,{placeholder:"Search","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){ae(e.target.value,"sub")},ref:j})})]})}),Object(n.jsx)("th",{style:{width:"30%"},className:"px-1",children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Content ID",Object(n.jsx)(B.a,{size:"sm",className:"",children:Object(n.jsx)(V.a,{placeholder:"Search","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){ae(e.target.value,"content_id")},ref:j})})]})}),Object(n.jsx)("th",{style:{width:"15%"},className:"px-1",children:Object(n.jsxs)("div",{className:"td-filter-box",children:["Action",Object(n.jsxs)(H.a,{children:[Object(n.jsx)(H.a.Toggle,{size:"sm",variant:"light",id:"dropdown-basic",className:"w-100 m-0",children:"Sort By \xa0\xa0"}),Object(n.jsxs)(H.a.Menu,{children:[Object(n.jsx)(H.a.Item,{href:"#",children:Object(n.jsxs)(K.a,{size:"sm",children:[Object(n.jsx)(G.a,{style:{marginRight:".7rem"},onClick:function(){ne("chapterName","false")},children:"Chapter"}),Object(n.jsx)(G.a,{onClick:function(){ne("chapterName","true")},children:"Desc"})]})}),Object(n.jsx)(H.a.Item,{href:"#",children:Object(n.jsxs)(K.a,{size:"sm",children:[Object(n.jsx)(G.a,{style:{marginRight:".7rem"},onClick:function(){ne("classId","false")},children:"Class"}),Object(n.jsx)(G.a,{onClick:function(){ne("classId","true")},children:"Desc"})]})}),Object(n.jsx)(H.a.Item,{href:"#",children:Object(n.jsxs)(K.a,{size:"sm",children:[Object(n.jsx)(G.a,{style:{marginRight:".7rem"},onClick:function(){ne("subjectId","false")},children:"Subject"}),Object(n.jsx)(G.a,{onClick:function(){ne("subjectId","true")},children:"Desc"})]})}),Object(n.jsx)(H.a.Item,{href:"#",children:Object(n.jsxs)(K.a,{size:"sm",children:[Object(n.jsx)(G.a,{style:{marginRight:".7rem"},onClick:function(){ne("contentID","false")},children:"contentID"}),Object(n.jsx)(G.a,{onClick:function(){ne("contentID","true")},children:"Desc"})]})})]})]})]})})]})})}),Object(n.jsx)("div",{className:"tblList-class",children:Object(n.jsx)(q.a,{striped:!0,bordered:!0,hover:!0,ref:_,className:"mb-0",children:Object(n.jsx)("tbody",{children:p.map((function(e,t){return Object(n.jsxs)("tr",{className:"tr_cls tr_cls_"+e.id,children:[Object(n.jsx)("td",{style:{width:"30%"},children:e.chapterName}),Object(n.jsx)("td",{style:{width:"10%"},children:e.className}),Object(n.jsx)("td",{style:{width:"15%"},children:e.subjectName}),Object(n.jsx)("td",{style:{width:"30%"},children:e.contentID}),Object(n.jsx)("td",{style:{width:"15%"},className:"actions",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{title:"Change",className:"btnEdit",type:"button",onClick:function(){return le(e,"edit")},children:Object(n.jsx)(m.d,{size:"lg",icon:"edit mdb-gallery-view-icon"})}),Object(n.jsx)("button",{title:"Remove",className:"btnDelete",type:"button",onClick:function(){return le(e,"remove")},children:Object(n.jsx)(m.d,{size:"lg",icon:"trash-alt mdb-gallery-view-icon"})})]})})]},t)}))})})})]}),Object(n.jsx)(f.a,{className:"col-4 pt-3",children:Object(n.jsx)("table",{className:"lmt",children:Object(n.jsx)("tbody",{children:Object(n.jsx)("tr",{children:Object(n.jsxs)("td",{children:[Object(n.jsx)("div",{className:"y",children:" Limit: "}),Object(n.jsx)(W.a,{value:N,className:"x",options:[{value:"10",label:"10"},{value:"50",label:"50"},{value:"100",label:"100"}],onChange:function(e){S(e),T((function(t){var c=Object(z.a)(Object(z.a)({},t),{},{limit:e.value,pageindex:0});return te(c),c}))}})]})})})})}),Object(n.jsx)(f.a,{className:"col-8 pt-3 pagination-wrapper",children:Object(n.jsx)(U.a,{size:"sm",children:L})}),Object(n.jsxs)(f.a,{className:"col-12 pt-3",children:[Object(n.jsxs)(m.b,{size:"sm",onClick:function(){return le({},"add_new")},color:"indigo",className:"btnAdd",children:[Object(n.jsx)(m.d,{size:"lg",icon:"plus-circle mdb-gallery-view-icon",className:"ml-2"}),"\xa0 Add New"]}),Object(n.jsx)("p",{children:Object(n.jsx)("br",{})})]})]})]})}function ee(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(b.a,{path:"/",exact:!0,children:Object(n.jsx)(p,{})}),Object(n.jsx)(b.a,{path:"/admin",component:D}),Object(n.jsxs)(b.c,{children:[Object(n.jsx)(b.a,{path:"/home",exact:!0,component:w}),Object(n.jsx)(b.a,{path:"/admin/upload",exact:!0,component:P}),Object(n.jsx)(b.a,{path:"/admin/conversion",exact:!0,component:X}),Object(n.jsx)(b.a,{path:"/admin/addclsnsub",exact:!0,component:Z}),Object(n.jsx)(b.a,{path:"/admin/addchap",exact:!0,component:$}),Object(n.jsx)(b.a,{path:"/admin/test",exact:!0,render:function(){return Object(n.jsx)("h3",{children:"Test"})}})]})]})}var te=function(e){Object(d.a)(c,e);var t=Object(j.a)(c);function c(){return Object(r.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(n.jsx)(u.a,{children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(ee,{})})})}}]),c}(a.Component);console.clear();var ce=window.publish||!1;window.ffmpeg_baseurl=1==ce?window.location.origin+"/":"http://localhost:50017/",i.a.render(Object(n.jsx)(te,{}),document.getElementById("root"))}},[[182,1,2]]]);
//# sourceMappingURL=main.e6c46910.chunk.js.map